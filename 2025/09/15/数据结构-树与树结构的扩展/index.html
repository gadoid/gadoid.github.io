

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/%5Bobject%20Object%5D">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Codfish">
  <meta name="keywords" content="">
  
    <meta name="description" content="指针与结构通过对链表的研究，我们已经了解了通过指针进行的数据间的结构组织。在链表中，每个节点通过指针与下一个节点建立连接，形成了线性的数据序列。这种简单的指针使用方式让我们初步体验了指针在构建数据结构中的威力。 接下来我们会发现，使用指针可以进行更具控制感的结构设计。与链表的单一方向连接不同，指针的真正潜力在于它能够建立 多维度的关联关系 ： 从线性到非线性的跃升链表虽然突破了数组的固定大小限制，">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构 树与树结构的扩展">
<meta property="og:url" content="http://gadoid.io/2025/09/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%91%E4%B8%8E%E6%A0%91%E7%BB%93%E6%9E%84%E7%9A%84%E6%89%A9%E5%B1%95/index.html">
<meta property="og:site_name" content="西北有高楼">
<meta property="og:description" content="指针与结构通过对链表的研究，我们已经了解了通过指针进行的数据间的结构组织。在链表中，每个节点通过指针与下一个节点建立连接，形成了线性的数据序列。这种简单的指针使用方式让我们初步体验了指针在构建数据结构中的威力。 接下来我们会发现，使用指针可以进行更具控制感的结构设计。与链表的单一方向连接不同，指针的真正潜力在于它能够建立 多维度的关联关系 ： 从线性到非线性的跃升链表虽然突破了数组的固定大小限制，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.111666.best/image/GXSTJOBPqPvI3cYmY4nhFH.png">
<meta property="og:image" content="https://i.111666.best/image/zpFomgDsjcfgvGeXI0CS00.png">
<meta property="og:image" content="https://i.111666.best/image/smXqEAY6sCK4hq4U2TEHgS.png">
<meta property="og:image" content="https://i.111666.best/image/OKxrZtYrRdABFDdDhJnrEX.png">
<meta property="og:image" content="https://i.111666.best/image/kNNB5C0Os7CihMM9B6Iiiz.png">
<meta property="og:image" content="https://i.111666.best/image/lQYDnfakSkRFkZISRm7Nyq.png">
<meta property="og:image" content="https://i.111666.best/image/MW9nI92RdUBioUmSrOgkQw.png">
<meta property="og:image" content="https://i.111666.best/image/MuOMnhjOXl0QqxOAB0SpwE.png">
<meta property="article:published_time" content="2025-09-15T14:00:05.000Z">
<meta property="article:modified_time" content="2025-09-15T14:44:18.110Z">
<meta property="article:author" content="Codfish">
<meta property="article:tag" content="数据结构">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.111666.best/image/GXSTJOBPqPvI3cYmY4nhFH.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>数据结构 树与树结构的扩展 - 西北有高楼</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"gadoid.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>西北有高楼</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/downloads" target="_self">
                
                <span>资源下载</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/bg/img/ice.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="数据结构 树与树结构的扩展"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-09-15 22:00" pubdate>
          2025年9月15日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          51 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">数据结构 树与树结构的扩展</h1>
            
              <p id="updated-time" class="note note-info" style="">
                
                  
                    本文最后更新于 2025年9月15日 晚上
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="指针与结构"><a href="#指针与结构" class="headerlink" title="指针与结构"></a>指针与结构</h1><p>通过对链表的研究，我们已经了解了通过指针进行的数据间的结构组织。在链表中，每个节点通过指针与下一个节点建立连接，形成了线性的数据序列。这种简单的指针使用方式让我们初步体验了指针在构建数据结构中的威力。</p>
<p>接下来我们会发现，使用指针可以进行更具控制感的结构设计。与链表的单一方向连接不同，指针的真正潜力在于它能够建立 <strong>多维度的关联关系</strong> ：</p>
<p><strong>从线性到非线性的跃升</strong><br>链表虽然突破了数组的固定大小限制，但仍然局限于线性结构。而通过巧妙地使用多个指针，我们可以构建出具有分支和层次的复杂结构，每个节点不再只能指向一个后继，而是可以同时指向多个不同方向的节点。</p>
<p><strong>灵活的关系建模</strong><br>在现实世界中，数据之间的关系往往是复杂的、多层次的。例如，一个公司的组织架构、一个家族的血缘关系、或者文件系统的目录结构，都呈现出明显的层级特征。指针为我们提供了直接在内存中模拟这些关系的能力，让数据结构能够真实反映问题域的本质特征。</p>
<p><strong>精确的访问控制</strong><br>相比于数组的索引访问，指针连接的结构提供了更加精确的导航机制。我们不再需要遍历无关的数据，而是可以沿着预设的路径直达目标，这种”按需访问”的特性为高效算法的设计奠定了基础。</p>
<h1 id="树的结构"><a href="#树的结构" class="headerlink" title="树的结构"></a>树的结构</h1><p>通过指针关联的一组具有序列特征和层次特征，除了根节点外每一层的节点都在上层仅有一个父节点与之关联的数据结构被称为树。树结构一般具备两个特征：</p>
<ul>
<li>每个项都有很多个子节点</li>
<li>除了叫作根的特殊的项，所有其他的项都只有一个父节点</li>
</ul>
<h2 id="树结构的术语"><a href="#树结构的术语" class="headerlink" title="树结构的术语"></a>树结构的术语</h2><table>
<thead>
<tr>
<th>术语</th>
<th>定义</th>
</tr>
</thead>
<tbody><tr>
<td>节点</td>
<td>树中存储的项</td>
</tr>
<tr>
<td>根</td>
<td>树的最顶端的节点，只有它没有父节点</td>
</tr>
<tr>
<td>子节点</td>
<td>紧邻一个给定的节点下并且直接与给定的节点相连的一个节点。一个节点可以有多个子节点，并且其子节点被视为按照从左到右的顺序排列，最左边的节点称为第一个子节点，最右边的节点称为最后一个子节点</td>
</tr>
<tr>
<td>父节点</td>
<td>紧邻一个给定的节点之上并且直接与给定的节点相连的一个节点，一个节点只能有一个父节点</td>
</tr>
<tr>
<td>兄弟节点</td>
<td>拥有共同的父节点的子节点</td>
</tr>
<tr>
<td>叶子节点</td>
<td>没有子节点的一个节点</td>
</tr>
<tr>
<td>内部节点</td>
<td>至少有一个子节点的节点</td>
</tr>
<tr>
<td>边&#x2F;分支&#x2F;连接</td>
<td>将一个父节点连接到其子节点的线</td>
</tr>
<tr>
<td>后代</td>
<td>一个节点的子节点，其子节点的子节点等，一直到叶子节点</td>
</tr>
<tr>
<td>祖先</td>
<td>一个节点的父节点，其父节点的父节点等，一直到根节点</td>
</tr>
<tr>
<td>路径</td>
<td>连接一个节点与其一个后代节点的边的序列</td>
</tr>
<tr>
<td>路径长度</td>
<td>路径中的边的数目</td>
</tr>
<tr>
<td>深度或层级</td>
<td>一个节点的深度或层级等于将其连接到根节点的路径的长度，因此根节点的深度或层级是0</td>
</tr>
<tr>
<td>高度</td>
<td>树中的叶子节点的最大层级数</td>
</tr>
<tr>
<td>子树</td>
<td>将一个节点和其他所有的子节点考虑在内，所形成的一个树</td>
</tr>
</tbody></table>
<h2 id="树的优势"><a href="#树的优势" class="headerlink" title="树的优势"></a>树的优势</h2><p>回顾树的两个关键特征：</p>
<p><strong>层级关系：</strong> 树结构天然构建了父子层级，使得每个父节点都能直接控制和管理其下的子节点。这种层级控制为复杂问题的分层处理提供了结构基础，我们在后续的算法实现中会频繁利用这一特征。</p>
<p><strong>兄弟关系：</strong> 同一父节点下的多个子节点形成了天然的分支选择机制，类似于 switch&#x2F;case 的条件分发模式。通过条件判断可以精确选择访问路径，避免遍历无关分支，实现高效的定向查询。</p>
<p>基于这两个核心特征，树结构能够实现：</p>
<p><strong>问题分解能力：</strong> 将复杂问题按层次逐级拆分，每一层处理特定维度的子问题，与递归思想高度契合，支持多步骤的渐进式求解。</p>
<p><strong>查询优化效果：</strong> 数据按特征分层存储后，查询时无需遍历全量数据，而是在每层进行少量比较即可确定下探路径，最终以 O(log n) 的效率直达目标。</p>
<p>正是这些特性使得树结构在文件系统、数据库索引、语法解析等需要高效查询和分层管理的场景中得到广泛应用。</p>
<h2 id="树的类型"><a href="#树的类型" class="headerlink" title="树的类型"></a>树的类型</h2><p>根据树的结构特点与组织特点，有以下几种树的类型</p>
<h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><p>二叉树是一种将节点按照层次结构组织起来的数据结构，每个节点最多只有两个与它直接相关联的子节点。</p>
<h3 id="二叉查找树"><a href="#二叉查找树" class="headerlink" title="二叉查找树"></a>二叉查找树</h3><p>二叉查找树在二叉树的基础上增加了有序性约束：对于任意节点，其左子树中所有节点的值都小于该节点的值，右子树中所有节点的值都大于该节点的值。这种特性使得查找、插入和删除操作的平均时间复杂度为O(log n)，但在极端情况下（如插入有序数据）可能退化为O(n)。</p>
<h3 id="AVL树"><a href="#AVL树" class="headerlink" title="AVL树"></a>AVL树</h3><p>AVL树是一种严格的自平衡二叉查找树，要求任何节点的两个子树的高度差不超过1。通过在插入和删除操作后进行旋转调整来维持平衡，保证了所有操作的时间复杂度始终为O(log n)。虽然查询性能稳定，但频繁的平衡调整使得插入和删除操作开销较大。</p>
<h3 id="B树"><a href="#B树" class="headerlink" title="B树"></a>B树</h3><p>B树是一种多路平衡查找树，每个节点可以包含多个键值和多个子节点。B树的设计目的是减少磁盘I&#x2F;O操作次数，特别适合数据库和文件系统等需要大量磁盘访问的场景。通过增加节点的容量，B树能够降低树的高度，从而减少查找时需要访问的节点数量。</p>
<h3 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h3><p>B+树是B树的变种，具有以下关键特征：所有的实际数据都存储在叶子节点中，非叶子节点只存储索引信息；叶子节点之间通过指针连接形成有序链表。这种设计使得B+树特别适合范围查询和顺序访问，同时保持了良好的随机访问性能。MySQL等数据库系统广泛采用B+树作为索引结构。</p>
<h3 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h3><p>红黑树是一种近似平衡的二叉查找树，通过给节点着色（红色或黑色）并遵循特定的颜色规则来维持平衡。相比AVL树，红黑树的平衡条件较为宽松，在保证O(log n)性能的同时，插入和删除时需要的旋转操作更少，因此在需要频繁修改的场景中表现更好。这也是为什么Java的TreeMap和C++的map选择红黑树作为底层实现的原因。</p>
<h1 id="树的实现"><a href="#树的实现" class="headerlink" title="树的实现"></a>树的实现</h1><h2 id="开始之前"><a href="#开始之前" class="headerlink" title="开始之前"></a>开始之前</h2><p>在开始讨论树结构之前，我们要注意与之前的数组或者hash表结构可以直观的感受数据的组织和排布过程不同，树的结构实现是比链表更加复杂的递归引用结构。我们需要通过树节点的定义和方法设计上来理解树中元素的增加，遍历，查询过程。</p>
<h2 id="二叉树-1"><a href="#二叉树-1" class="headerlink" title="二叉树"></a>二叉树</h2><h3 id="满二叉树"><a href="#满二叉树" class="headerlink" title="满二叉树"></a>满二叉树</h3><p>叶子节点都在最底层</p>
<p>除了叶子节点外，其他节点都有左右子节点</p>
<h3 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h3><p>除了最后一层，其他层的节点数都要达到最大</p>
<p>最后一层，第一个子节点到最后一个子节点之间不能有空的子节点</p>
<p>最后一层如果有奇数个节点的话，最后一个节点必须是左子节点</p>
<h3 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h3><p><img src="https://i.111666.best/image/GXSTJOBPqPvI3cYmY4nhFH.png" srcset="/img/loading.gif" lazyload alt="前序遍历"></p>
<p>前序遍历的特点是：</p>
<p>先访问根节点</p>
<p>再访问左子树</p>
<p>再访问右子树</p>
<p>以循环实现为例：</p>
<p>将遍历流程分为两个部分</p>
<p>先准备栈结构和数组，再按顺序将结构按顺序压入栈。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Integer&gt; <span class="hljs-title function_">preOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span>&#123;<br>		ArrayList&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> res ;<br>		Stack&lt;TreeNode&lt;Integer&gt;&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>		stack.push(root);<br>	<br>		<span class="hljs-keyword">while</span> (!stack.isEmpty())&#123;<br>				TreeNode&lt;Integer&gt; curr = stack.pop();<br>				res.add(curr.data);<br>				<span class="hljs-keyword">if</span>(curr.right!= <span class="hljs-literal">null</span>) stack.push(curr.right);<br>				<span class="hljs-keyword">if</span>(curr.left != <span class="hljs-literal">null</span>) stack.push(curr.left);<br>		&#125;<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h3><p><img src="https://i.111666.best/image/zpFomgDsjcfgvGeXI0CS00.png" srcset="/img/loading.gif" lazyload alt="中序遍历"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Integer&gt; <span class="hljs-title function_">midOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span>&#123;<br>		ArrayList&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> res ;<br>		Stack&lt;TreeNode&lt;Integer&gt;&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>		TreeNode&lt;Integer&gt; curr = root ;<br>		<span class="hljs-keyword">while</span> (curr != <span class="hljs-literal">null</span> || ! stack.isEmpty())&#123;<br>				<span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">null</span>)&#123;<br>						stack.push(curr);<br>						curr = curr.left;<br>				&#125;<br>				TreeNode&lt;Integer&gt; node = stack.pop();<br>				res.add(node.data);<br>				curr = node.right ;<br>		&#125;<br>		<span class="hljs-keyword">return</span> res; <br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">midOrderR</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span>&#123;<br>		List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		midOrder(root, res);<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">midOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; node, List&lt;Integer&gt; res)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> ;<br>		midOrder(node.left , res );<br>		res.add(node.data);<br>		midOrder(node.right , res) ;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h3 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h3><p><img src="https://i.111666.best/image/smXqEAY6sCK4hq4U2TEHgS.png" srcset="/img/loading.gif" lazyload alt="后序遍历"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">postOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span>&#123;<br>		LinkedList&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>		<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> res ;<br>		Stack&lt;TreeNode&lt;Integer&gt;&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>		stack.push(root);<br>	<br>		<span class="hljs-keyword">while</span> (!stack.isEmpty())&#123;<br>				TreeNode&lt;Integer&gt; curr = stack.pop();<br>				res.addFirst(curr.data);<br>				<span class="hljs-keyword">if</span>(curr.left != <span class="hljs-literal">null</span>) stack.push(curr.left);<br>				<span class="hljs-keyword">if</span>(curr.right != <span class="hljs-literal">null</span>) stack.push(curr.right);<br>		&#125;<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">postOrderR</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span>&#123;<br>		List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		postOrder(root,  res );<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; node , List&lt;Integer&gt; res )</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> ;<br>		postOrder(node.left , res);<br>		postOrder(node.right, res);<br>		res.add(node.data);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">postOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span> &#123;<br>    List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> res;<br>  <br>    Stack&lt;TreeNode&lt;Integer&gt;&gt; stack1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>    Stack&lt;TreeNode&lt;Integer&gt;&gt; stack2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>  <br>    stack1.push(root);<br>  <br>    <span class="hljs-keyword">while</span> (!stack1.isEmpty()) &#123;<br>        TreeNode&lt;Integer&gt; node = stack1.pop();<br>        stack2.push(node); <br>      <br>        <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>) stack1.push(node.left);<br>        <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>) stack1.push(node.right);<br>    &#125;<br>  <br>    <span class="hljs-keyword">while</span> (!stack2.isEmpty()) &#123;<br>        res.add(stack2.pop().data);<br>    &#125;<br>  <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="层序遍历"><a href="#层序遍历" class="headerlink" title="层序遍历"></a>层序遍历</h3><p><img src="https://i.111666.best/image/OKxrZtYrRdABFDdDhJnrEX.png" srcset="/img/loading.gif" lazyload alt="层序遍历"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">levelOrder</span><span class="hljs-params">(TreeNode&lt;Integer&gt; root)</span> &#123;<br>    List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> res;<br><br>    Queue&lt;TreeNode&lt;Integer&gt;&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    queue.offer(root);<br><br>    <span class="hljs-keyword">while</span> (!queue.isEmpty()) &#123;<br>        TreeNode&lt;Integer&gt; node = queue.poll(); <span class="hljs-comment">// 出队</span><br>        res.add(node.data);                   <span class="hljs-comment">// 访问节点</span><br><br>        <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>) queue.offer(node.left);   <span class="hljs-comment">// 左子树入队</span><br>        <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>) queue.offer(node.right); <span class="hljs-comment">// 右子树入队</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="二叉查找树-1"><a href="#二叉查找树-1" class="headerlink" title="二叉查找树"></a>二叉查找树</h2><p><img src="https://i.111666.best/image/kNNB5C0Os7CihMM9B6Iiiz.png" srcset="/img/loading.gif" lazyload alt="二叉查找树"></p>
<p>二叉查找树通过在 添加过程中定义添加规则，将TreeNode根据与根节点的大小排布在根节点两侧，二叉查找树要求树结构满足以下规则：</p>
<p><strong>左子树的所有节点值小于这个节点值</strong></p>
<p><strong>右子树的所有节点值大于这个节点值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BST</span>&lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;E&gt;&gt;&#123;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>&#123;<br>				E data;<br>				TreeNode left ;<br>				TreeNode right ;<br>				<span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeNode</span><span class="hljs-params">(E data)</span>&#123;<br>				<span class="hljs-built_in">this</span>.data = data;<br>				&#125;<br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode root ;<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size ;<br>		<span class="hljs-keyword">public</span> <span class="hljs-title function_">BST</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-built_in">this</span>.root = <span class="hljs-literal">null</span>;<br>				<span class="hljs-built_in">this</span>.size = <span class="hljs-number">0</span> ;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSize</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">return</span> size ;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">return</span> size == <span class="hljs-number">0</span> ;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>						size++;<br>						<span class="hljs-keyword">return</span> ;<br>				&#125;<span class="hljs-keyword">else</span> &#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">curr</span> <span class="hljs-operator">=</span> root ;<br>						<span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">null</span>)&#123;<br>								<span class="hljs-keyword">if</span>(e.compareTo(curr.data) == <span class="hljs-number">0</span>)&#123;<br>										<span class="hljs-keyword">return</span> ;<br>								&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(curr.data) &lt; <span class="hljs-number">0</span> &amp;&amp; curr.left ==<span class="hljs-literal">null</span>)&#123;<br>										curr.left = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>										size++ ;<br>										<span class="hljs-keyword">return</span> ;<br>								&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(curr.data) &gt; <span class="hljs-number">0</span> &amp;&amp; curr.right ==<span class="hljs-literal">null</span>)&#123;<br>										curr.right = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>										size++ ;<br>										<span class="hljs-keyword">return</span> ;									<br>								&#125;<br>								<span class="hljs-keyword">if</span>(e.compareTo(curr.data)&lt;<span class="hljs-number">0</span>)&#123;<br>										curr = curr.left;<br>								&#125;<span class="hljs-keyword">else</span> &#123;<br>										curr = curr.right ;<br>								&#125;<br>						&#125; <br>				&#125;<br>		&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">contains</span><span class="hljs-params">(E target)</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> ;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">curr</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">if</span>(target.compareTo(curr.data) == <span class="hljs-number">0</span>)&#123;<br>								<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>						&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(target.compareTo(curr.data) &lt; <span class="hljs-number">0</span>) &#123;<br>								curr = curr.left;<br>						&#125; <span class="hljs-keyword">else</span>&#123;<br>								curr = curr.right;<br>						&#125;<br>				&#125;<br>				<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> ;	<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">set</span><span class="hljs-params">(E src ,E target )</span>&#123;<br>				<span class="hljs-keyword">if</span>(contains(target)) <span class="hljs-keyword">return</span> ;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">srcNode</span> <span class="hljs-operator">=</span> find(src);<br>		    <span class="hljs-keyword">if</span>(srcNode != <span class="hljs-literal">null</span>) &#123;       <br>		        srcNode.data = target;<br>		    &#125;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">minValue</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-keyword">while</span>(min.left != <span class="hljs-literal">null</span>)&#123;<br>						min = min.left ;<br>				&#125;<br>				<span class="hljs-keyword">return</span> min.data;<br>		&#125;<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">maxValue</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-keyword">while</span>(max.right != <span class="hljs-literal">null</span>)&#123;<br>						max = max.right;<br>				&#125;<br>				<span class="hljs-keyword">return</span> max.data;<br>		&#125;<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMin</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span> ;<br>				<span class="hljs-keyword">while</span> (min.left != <span class="hljs-literal">null</span>) &#123;<br>						parent = min ;<br>						min = min.left;			<br>				&#125;<br>				<span class="hljs-keyword">if</span>(parent == <span class="hljs-literal">null</span>)&#123;<br>						root = root.right;<br>				&#125; <span class="hljs-keyword">else</span> &#123;<br>						parent.left = min.right;<br>						min.right = <span class="hljs-literal">null</span> ;<br>				&#125;<br>				size-- ;<br>				<span class="hljs-keyword">return</span> min.data;<br>		&#125;<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMax</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>				<span class="hljs-keyword">while</span>(max.right != <span class="hljs-literal">null</span>)&#123;<br>						parent = max ;<br>						max = max.right;<br>				&#125;<br>				<span class="hljs-keyword">if</span>(parent == <span class="hljs-literal">null</span>)&#123;<br>						root = root.left;<br>				&#125;<span class="hljs-keyword">else</span> &#123;<br>						parent.right = max.left;<br>						max.left = <span class="hljs-literal">null</span>;<br>				&#125;<br>				size -- ;<br>				<span class="hljs-keyword">return</span> max.data;		<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">remove</span><span class="hljs-params">(E e)</span>&#123;<br>		    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;  <br>		  <br>		    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">curr</span> <span class="hljs-operator">=</span> root;<br>		    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>		  <br>		    <span class="hljs-comment">// 查找要删除的节点</span><br>		    <span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">null</span> &amp;&amp; e.compareTo(curr.data) != <span class="hljs-number">0</span>)&#123;<br>		        parent = curr; <br>		        <span class="hljs-keyword">if</span>(e.compareTo(curr.data) &lt; <span class="hljs-number">0</span>) &#123;<br>		            curr = curr.left;<br>		        &#125; <span class="hljs-keyword">else</span> &#123;<br>		            curr = curr.right;<br>		        &#125;<br>		    &#125;<br>		  <br>		    <span class="hljs-keyword">if</span>(curr == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <br>		  <br>		    <span class="hljs-type">E</span> <span class="hljs-variable">removedData</span> <span class="hljs-operator">=</span> curr.data;<br>		  <br>		    <span class="hljs-comment">// 情况1：叶子节点</span><br>		    <span class="hljs-keyword">if</span>(curr.left == <span class="hljs-literal">null</span> &amp;&amp; curr.right == <span class="hljs-literal">null</span>)&#123;<br>		        <span class="hljs-keyword">if</span>(parent == <span class="hljs-literal">null</span>)&#123; <br>		            root = <span class="hljs-literal">null</span>;<br>		        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(parent.left == curr)&#123;<br>		            parent.left = <span class="hljs-literal">null</span>;<br>		        &#125; <span class="hljs-keyword">else</span> &#123;<br>		            parent.right = <span class="hljs-literal">null</span>;<br>		        &#125;<br>		    &#125;<br>		    <span class="hljs-comment">// 情况2：只有右子树</span><br>		    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(curr.left == <span class="hljs-literal">null</span>)&#123;<br>		        <span class="hljs-keyword">if</span>(parent == <span class="hljs-literal">null</span>)&#123;<br>		            root = curr.right;<br>		        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(parent.left == curr)&#123;<br>		            parent.left = curr.right;<br>		        &#125; <span class="hljs-keyword">else</span> &#123;<br>		            parent.right = curr.right;<br>		        &#125;<br>		    &#125;<br>		    <span class="hljs-comment">// 情况3：只有左子树</span><br>		    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(curr.right == <span class="hljs-literal">null</span>)&#123;<br>		        <span class="hljs-keyword">if</span>(parent == <span class="hljs-literal">null</span>)&#123;<br>		            root = curr.left;<br>		        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(parent.left == curr)&#123;<br>		            parent.left = curr.left;<br>		        &#125; <span class="hljs-keyword">else</span> &#123;<br>		            parent.right = curr.left;<br>		        &#125;<br>		    &#125;<br>		    <span class="hljs-comment">// 情况4：有两个子树</span><br>		    <span class="hljs-keyword">else</span> &#123;<br>		        <span class="hljs-comment">// 找到右子树的最小节点</span><br>		        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">minParent</span> <span class="hljs-operator">=</span> curr;<br>		        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> curr.right;<br>		        <span class="hljs-keyword">while</span>(min.left != <span class="hljs-literal">null</span>)&#123;<br>		            minParent = min;<br>		            min = min.left;<br>		        &#125;<br>		      <br>		        <span class="hljs-comment">// 用最小节点的值替换当前节点</span><br>		        curr.data = min.data;<br>		      <br>		        <span class="hljs-comment">// 删除最小节点</span><br>		        <span class="hljs-keyword">if</span>(minParent == curr)&#123;<br>		            curr.right = min.right;<br>		        &#125; <span class="hljs-keyword">else</span> &#123;<br>		            minParent.left = min.right;<br>		        &#125;<br>		    &#125;  <br>		    size--;<br>		    <span class="hljs-keyword">return</span> removedData;  <br>		&#125;<br><br>		<span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">find</span><span class="hljs-params">(E target)</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">curr</span> <span class="hljs-operator">=</span> root ;<br>				<span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">if</span>( target.compareTo(curr.data) == <span class="hljs-number">0</span>)&#123;<br>								<span class="hljs-keyword">return</span> curr;<br>						&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( target.compareTo(curr.data)&lt; <span class="hljs-number">0</span>) &#123;<br>								curr = curr.left ;						<br>						&#125; <span class="hljs-keyword">else</span> &#123;<br>								curr = curr.right ;				<br>						&#125;<br>				&#125;<br>				<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;	<br>		&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="递归实现"><a href="#递归实现" class="headerlink" title="递归实现"></a>递归实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">add</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>				size++ ;<br>				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>		&#125;	<br>		<span class="hljs-keyword">if</span>(e.compareTo(node.data) &lt; <span class="hljs-number">0</span>)&#123;<br>				node.left = add(node.left, e);<br>		&#125; <span class="hljs-keyword">else</span> &#123;<br>			  node.right = add(node.right, e);<br>		&#125;<br>		<span class="hljs-keyword">return</span> node ;<br>&#125;<br><br><span class="hljs-keyword">public</span> List&lt;E&gt; <span class="hljs-title function_">preOrder</span><span class="hljs-params">()</span>&#123;<br>		List&lt;E&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		preOrder(root,res);<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preOrder</span><span class="hljs-params">(TreeNode node, List&lt;E&gt; res)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">return</span>;<br>		&#125;<br>		res.add(node.data);<br>		preOrder(node.left, res);<br>		preOrder(node.right, res);<br>&#125;<br><span class="hljs-keyword">public</span> List&lt;E&gt; <span class="hljs-title function_">inOrder</span><span class="hljs-params">()</span>&#123;<br>		List&lt;E&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>		inOrder(root,res);<br>		<span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">inOrder</span><span class="hljs-params">(TreeNode node, List&lt;E&gt; res)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">return</span> ;<br>		&#125;<br>		inOrder(node.left, res);<br>		res.add(node.data);<br>		inOrder(node.right, res);<br>&#125;<br><br><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">find</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>		<span class="hljs-keyword">if</span>(e.compareTo(node.data) == <span class="hljs-number">0</span>)&#123;<br>				<span class="hljs-keyword">return</span> node;<br>		&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(node.data)&lt;<span class="hljs-number">0</span>)&#123;<br>				<span class="hljs-keyword">return</span> find(node.left , e);<br>		&#125; <span class="hljs-keyword">else</span> &#123;<br>				<span class="hljs-keyword">return</span> find(node.right, e);<br>		&#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">minValue</span><span class="hljs-params">()</span>&#123;<br>		<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>		&#125;<br>		<span class="hljs-type">TreeNode</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> root ;<br>		min = minValue(min);<br>		<span class="hljs-keyword">return</span> min.data;<br>&#125;<br><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">minValue</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node.left == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">return</span> node;<br>		&#125;<br>		<span class="hljs-keyword">return</span> minValue(node.left);<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">maxValue</span><span class="hljs-params">()</span>&#123;<br>		<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>		&#125;<br>		<span class="hljs-type">TreeNode</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> root ;<br>		max = maxValue(max);<br>		<span class="hljs-keyword">return</span> max.data;<br>&#125;<br><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">maxValue</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node.right == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-keyword">return</span> node;<br>		&#125;<br>		<span class="hljs-keyword">return</span> maxValue(node.right);<br>&#125;<br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMin</span><span class="hljs-params">()</span>&#123;<br>		<span class="hljs-type">E</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> minValue();<br>		root = removeMin(root);<br>		<span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">removeMin</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node.left == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">rightNode</span> <span class="hljs-operator">=</span> node.right;<br>				node.right = <span class="hljs-literal">null</span>;<br>				size-- ;<br>				<span class="hljs-keyword">return</span> rightNode;<br>		&#125;<br>		<span class="hljs-type">TreeNode</span> <span class="hljs-variable">leftRoot</span> <span class="hljs-operator">=</span> removeMin(node.left);<br>		node.left = leftRoot;<br>		<span class="hljs-keyword">return</span> node ;<br>&#125;<br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMax</span><span class="hljs-params">()</span>&#123;<br>		<span class="hljs-type">E</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> maxValue();<br>		root = removeMax(root);<br>		<span class="hljs-keyword">return</span> res ;<br>&#125;<br><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">removeMax</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node.right == <span class="hljs-literal">null</span>)&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">leftNode</span> <span class="hljs-operator">=</span> node.left;<br>				node.left = <span class="hljs-literal">null</span>;<br>				size -- ;<br>				<span class="hljs-keyword">return</span> leftNode;	<br>		&#125;<br>		<span class="hljs-type">TreeNode</span> <span class="hljs-variable">rightRoot</span> <span class="hljs-operator">=</span> removeMax(node.right);<br>		node.right = rightRoot ;<br>		<span class="hljs-keyword">return</span> node;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(E e)</span>&#123;<br>		root = remove(root,e);<br>&#125;<br><span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">remove</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>		<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>		<span class="hljs-keyword">if</span>(e.compareTo(node.data) &lt; <span class="hljs-number">0</span>)&#123;<br>				node.left = remove(node.left, e);<br>				<span class="hljs-keyword">return</span> node;<br>		&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(node.data) &gt; <span class="hljs-number">0</span>)&#123;<br>				node.right = remove(node.right,e);<br>				<span class="hljs-keyword">return</span> node;<br>		&#125;<span class="hljs-keyword">else</span> &#123;<br>				<span class="hljs-keyword">if</span> (node.left == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">rightNode</span> <span class="hljs-operator">=</span> node.right;<br>						node.right = <span class="hljs-literal">null</span>;<br>						size-- ;<br>						<span class="hljs-keyword">return</span> rightNode;<br>				&#125;<br>				<span class="hljs-keyword">if</span> (node.right == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">leftNode</span> <span class="hljs-operator">=</span> node.left ;<br>						node.left = <span class="hljs-literal">null</span> ;<br>						size-- ;<br>						<span class="hljs-keyword">return</span> leftNode;<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">successor</span> <span class="hljs-operator">=</span> minValue(node.right);<br>				successor.left = node.left;<br>				successor.right = removeMin(node.right);<br>				node.left = <span class="hljs-literal">null</span>;<br>				node.right = <span class="hljs-literal">null</span>;<br>				<span class="hljs-keyword">return</span> successor ;<br>		&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h2 id="平衡二叉树与AVL树"><a href="#平衡二叉树与AVL树" class="headerlink" title="平衡二叉树与AVL树"></a>平衡二叉树与AVL树</h2><p>在仅使用二叉查找树进行数据存储时，在某些特殊情形下，二叉查找树会退化为链表。</p>
<p>平衡二叉树的实现优化了这一问题。</p>
<p>平衡二叉树通过高度和影响因子来处理二叉查找树中的平衡问题，在平衡二叉树中，左右子树的高度差不超过1。</p>
<p>原理是在节点插入&#x2F;删除 后，计算节点当前的高度（左右子树的最大值+1），之后检查影响因子（左右子树差），当影响因子绝对值大于1时，触发左旋或右旋操作。调整整颗树的平衡性</p>
<p><img src="https://i.111666.best/image/lQYDnfakSkRFkZISRm7Nyq.png" srcset="/img/loading.gif" lazyload alt="左旋过程"></p>
<p><img src="https://i.111666.best/image/MW9nI92RdUBioUmSrOgkQw.png" srcset="/img/loading.gif" lazyload alt="右旋过程"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AVLTree</span>&lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;E&gt;&gt;&#123;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>&#123;<br>				E data;<br>				TreeNode left ;<br>				TreeNode right ;<br>				<span class="hljs-type">int</span> <span class="hljs-variable">height</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>			<br>				<span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeNode</span><span class="hljs-params">(E data)</span> &#123;<span class="hljs-built_in">this</span>.data = data ;&#125;<br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode root ;<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size ;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-title function_">AVLTree</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-built_in">this</span>.root = <span class="hljs-literal">null</span>;<br>				<span class="hljs-built_in">this</span>.size = <span class="hljs-number">0</span>;<br>		&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSize</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> size;&#125; <br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> size == <span class="hljs-number">0</span>;&#125;<br>	<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getHeight</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>				<span class="hljs-keyword">return</span> node.height ;<br>		&#125;	<br>		<span class="hljs-keyword">public</span> List&lt;E&gt; <span class="hljs-title function_">preOrder</span><span class="hljs-params">()</span>&#123;<br>				List&lt;E&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>				preOrder(root,res);<br>				<span class="hljs-keyword">return</span> res ;<br>		&#125;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preOrder</span><span class="hljs-params">(TreeNode node, List&lt;E&gt; res)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">return</span>;<br>				&#125;<br>				res.add(node.data);<br>				preOrder(node.left, res);<br>				preOrder(node.right, res);<br>		&#125;<br>		<span class="hljs-keyword">public</span> List&lt;E&gt; <span class="hljs-title function_">inOrder</span><span class="hljs-params">()</span>&#123;<br>				List&lt;E&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>				inOrder(root,res);<br>				<span class="hljs-keyword">return</span> res;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">inOrder</span><span class="hljs-params">(TreeNode node, List&lt;E&gt; res)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">return</span> ;<br>				&#125;<br>				inOrder(node.left, res);<br>				res.add(node.data);<br>				inOrder(node.right, res);<br>		&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span>&#123;<br>				root = add(root,e);<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">find</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>				<span class="hljs-keyword">if</span>(e.compareTo(node.data) == <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span> node;<br>				&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(node.data)&lt;<span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span> find(node.left , e);<br>				&#125; <span class="hljs-keyword">else</span> &#123;<br>						<span class="hljs-keyword">return</span> find(node.right, e);<br>				&#125;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">minValue</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> root ;<br>				min = minValue(min);<br>				<span class="hljs-keyword">return</span> min.data;<br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">minValue</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node.left == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">return</span> node;<br>				&#125;<br>				<span class="hljs-keyword">return</span> minValue(node.left);<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">maxValue</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;tree is null&quot;</span>);<br>				&#125;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> root ;<br>				max = maxValue(max);<br>				<span class="hljs-keyword">return</span> max.data;<br>		&#125;<br>		<span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">maxValue</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node.right == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">return</span> node;<br>				&#125;<br>				<span class="hljs-keyword">return</span> maxValue(node.right);<br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">add</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>						size++ ;<br>						<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>				&#125;	<br>				<span class="hljs-keyword">if</span>(e.compareTo(node.data) &lt; <span class="hljs-number">0</span>) &#123;<br>						node.left = add(node.left,e);			<br>				&#125; <span class="hljs-keyword">else</span> &#123;<br>						node.right = add(node.right,e);<br>				&#125;<br>				node.height = Math.max(getHeight(node.left),getHeight(node.right))+<span class="hljs-number">1</span>;<br>				<span class="hljs-type">int</span> <span class="hljs-variable">balanceFactor</span> <span class="hljs-operator">=</span> getBalanceFactor(node);<br>				<span class="hljs-keyword">if</span>(balanceFactor &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.left) &gt;= <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span>  rightRotate(node);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.right) &lt;= <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span>  leftRotate(node);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.left) &lt; <span class="hljs-number">0</span>) &#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> leftRotate(node.left);<br>						node.left =  z;<br>						<span class="hljs-keyword">return</span> rightRotate(node);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &lt; <span class="hljs-number">0</span> &amp;&amp; getBalanceFactor(node.right) &gt; <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> rightRotate(node.right);<br>						node.right = z;<br>						<span class="hljs-keyword">return</span> leftRotate(node);					<br>				&#125;		<br>				<span class="hljs-keyword">return</span> node ;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBST</span><span class="hljs-params">()</span>&#123;<br>				List&lt;E&gt; res = inOrder();<br>				<span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> res.size();<br>				<span class="hljs-keyword">if</span> (len &lt;= <span class="hljs-number">1</span>)&#123;<br>						<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> ;<br>				&#125;<br>				<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i&lt; len ; i++)&#123;<br>						<span class="hljs-keyword">if</span>(res.get(i).compareTo(res.get(i-<span class="hljs-number">1</span>)) &lt; <span class="hljs-number">0</span>)&#123;<br>								<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> ;<br>						&#125;<br>				&#125;<br>				<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> ;<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBalanced</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-keyword">return</span> isBalanced(root); <br>		&#125;<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBalanced</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>				<span class="hljs-type">int</span> <span class="hljs-variable">balanceFactor</span> <span class="hljs-operator">=</span> getBalanceFactor(node) ;<br>				<span class="hljs-keyword">if</span>(Math.abs(balanceFactor) &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>				<span class="hljs-keyword">return</span> isBalanced(node.left) &amp;&amp; isBalanced(node.right);<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getBalanceFactor</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>				<span class="hljs-keyword">return</span> getHeight(node.left) - getHeight(node.right);<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">rightRotate</span><span class="hljs-params">(TreeNode y)</span>&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> y.left;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">t3</span> <span class="hljs-operator">=</span> x.right;<br>				x.right = y;<br>				y.left = t3;<br>			<br>				x.height = Math.max(getHeight(x.left),getHeight(x.right)+<span class="hljs-number">1</span>);<br>				y.height = Math.max(getHeight(y.left),getHeight(y.right)+<span class="hljs-number">1</span>);<br>				<span class="hljs-keyword">return</span> x;<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">leftRotate</span><span class="hljs-params">(TreeNode y)</span>&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> y.right;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">t3</span> <span class="hljs-operator">=</span> x.left;<br>			<br>				x.left = y;<br>				y.right = t3;<br>			<br>				x.height = Math.max(getHeight(x.left),getHeight(x.right))+<span class="hljs-number">1</span>;<br>				y.height = Math.max(getHeight(y.left),getHeight(y.right))+<span class="hljs-number">1</span>;<br>				<span class="hljs-keyword">return</span> x;<br>		&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(E e)</span>&#123;root = remove(root,e);&#125;<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">remove</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>				TreeNode retNode;<br>				<span class="hljs-keyword">if</span>(e.compareTo(node.data) &lt; <span class="hljs-number">0</span>)&#123;<br>						node.left = remove(node.left, e);<br>						retNode = node;<br>				&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.compareTo(node.data) &gt; <span class="hljs-number">0</span>)&#123;<br>						node.right = remove(node.right, e);<br>						retNode = node;<br>				&#125; <span class="hljs-keyword">else</span> &#123;<br>						<span class="hljs-keyword">if</span>(node.left == <span class="hljs-literal">null</span>)&#123;<br>								<span class="hljs-type">TreeNode</span> <span class="hljs-variable">rightNode</span> <span class="hljs-operator">=</span> node.right;<br>								node.right = <span class="hljs-literal">null</span>;<br>								size -- ;<br>								retNode = rightNode;<br>						&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node.right == <span class="hljs-literal">null</span>)&#123;<br>								<span class="hljs-type">TreeNode</span> <span class="hljs-variable">leftNode</span> <span class="hljs-operator">=</span> node.left;<br>								node.left = <span class="hljs-literal">null</span>;<br>								size--;<br>								retNode = leftNode;<br>						&#125; <span class="hljs-keyword">else</span> &#123;<br>								<span class="hljs-type">TreeNode</span> <span class="hljs-variable">successor</span> <span class="hljs-operator">=</span> minValue(node.right);<br>							<br>								successor.right = remove(node.right,successor.data);<br>								successor.left = node.left;<br>							<br>								node.left = <span class="hljs-literal">null</span>;<br>								node.right = <span class="hljs-literal">null</span>;<br>								size -- ;<br>								retNode = successor;<br>						&#125;<br>			  &#125;<br>			  <br>				retNode.height = Math.max(getHeight(retNode.left),getHeight(retNode.right))+<span class="hljs-number">1</span>;<br>				<span class="hljs-type">int</span> <span class="hljs-variable">balanceFactor</span> <span class="hljs-operator">=</span> getBalanceFactor(retNode);<br>				<span class="hljs-keyword">if</span>(balanceFactor &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(retNode.left) &gt;= <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span>  rightRotate(retNode);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(retNode.right) &lt;= <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-keyword">return</span>  leftRotate(retNode);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(retNode.left) &lt; <span class="hljs-number">0</span>) &#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> leftRotate(retNode.left);<br>						node.left =  z;<br>						<span class="hljs-keyword">return</span> rightRotate(retNode);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(balanceFactor &lt; <span class="hljs-number">0</span> &amp;&amp; getBalanceFactor(retNode.right) &gt; <span class="hljs-number">0</span>)&#123;<br>						<span class="hljs-type">TreeNode</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> rightRotate(retNode.right);<br>						retNode.right = z;<br>						<span class="hljs-keyword">return</span> leftRotate(retNode);					<br>				&#125;		<br>				<span class="hljs-keyword">return</span> retNode ;<br>		&#125;<br>		&#125;<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMin</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-type">E</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> minValue();<br>				root = remove(root,res);<br>				<span class="hljs-keyword">return</span> res;<br>		&#125;<br>		<span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeMax</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-type">E</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> maxValue();<br>				root = remove(root, res);<br>				<span class="hljs-keyword">return</span> res ;<br>		&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-3树，B树与B-树"><a href="#2-3树，B树与B-树" class="headerlink" title="2-3树，B树与B+树"></a>2-3树，B树与B+树</h2><p>AVL树解决了二叉查找树会退化为链表的问题，但是随着值的插入，会频繁发生子树的旋转影响整体查询性能。</p>
<h3 id="2-3树"><a href="#2-3树" class="headerlink" title="2-3树"></a>2-3树</h3><p><img src="https://i.111666.best/image/MuOMnhjOXl0QqxOAB0SpwE.png" srcset="/img/loading.gif" lazyload alt="2-3树"></p>
<p>2-3树是一种多路查找树，是B树的一种特例（m&#x3D;3）。</p>
<p>它提供了稳定的层高，同时提供了优秀的查找性能，2-3树通过聚合和分裂的方式，保证叶子节点层的层深一致，同时因为层深一致，且父节点是由叶子节点由中间分裂得来的，所以2-3树是一颗绝对平衡的树。</p>
<h3 id="B树与B-树"><a href="#B树与B-树" class="headerlink" title="B树与B+树"></a>B树与B+树</h3><p>B树与B+树 是由单一父节点延申出更多路径一种多路查找树，在数据库实现的内容中具体讨论了其数据的组织过程。</p>
<h2 id="红黑树-1"><a href="#红黑树-1" class="headerlink" title="红黑树"></a>红黑树</h2><p>红黑树具有以下要求</p>
<ol>
<li>每个节点是红色或者是黑色的</li>
<li>根节点是黑色的</li>
<li>每个叶子节点是黑色的</li>
<li>如果一个节点是红色的，那么他的孩子节点都是黑色的</li>
<li>从任意一个节点到叶子节点，经过的黑色节点数量都一样</li>
</ol>
<p>通过这些要求，保证了红黑树的平衡性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RBTree</span>&lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;E&gt;&gt;&#123;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">RED</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">BLACK</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>&#123;<br>				E data;<br>				TreeNode left ;<br>				TreeNode right ;<br>				<span class="hljs-type">boolean</span> color ;<br>				<span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeNode</span><span class="hljs-params">(E data)</span>&#123;<br>					<span class="hljs-built_in">this</span>.data = data;<br>					<span class="hljs-built_in">this</span>.color = RED;<br>				&#125;<br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode root;<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size ;<br>		<span class="hljs-keyword">public</span> <span class="hljs-title function_">RBTree</span><span class="hljs-params">()</span>&#123;<br>				<span class="hljs-built_in">this</span>.root = <span class="hljs-literal">null</span>;<br>				<span class="hljs-built_in">this</span>.size = <span class="hljs-number">0</span>;<br>		&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSize</span><span class="hljs-params">()</span>&#123;<span class="hljs-keyword">return</span> size;&#125;<br>		<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> size == <span class="hljs-number">0</span>;&#125;<br>	<br>		<span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isRED</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>						<span class="hljs-keyword">return</span> BLACK; <br>				&#125;<br>				<span class="hljs-keyword">return</span> node.color == RED; <br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">leftRotate</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> node.right ;<br>				node.right = x.left;<br>				x.left = node;<br>				x.color = node.color;<br>				node.color = RED;<br>				<span class="hljs-keyword">return</span> x; <br>		&#125;<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">rightRotate</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				<span class="hljs-type">TreeNode</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> node.left ;<br>				node.left = x.right;<br>				x.right = node;<br>				x.color = node.color ;<br>				node.color = RED;<br>			<br>				<span class="hljs-keyword">return</span> x;<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flipColors</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>				node.color = RED;<br>				node.left.color = BLACK;<br>				node.right.color = BLACK;<br>	<br>		&#125;<br>	<br>		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span>&#123;<br>				root = add(root,e);<br>				root.color = BLACK;<br>		&#125;<br>	<br>		<span class="hljs-keyword">private</span> TreeNode <span class="hljs-title function_">add</span><span class="hljs-params">(TreeNode node, E e)</span>&#123;<br>				<span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>						size++ ;<br>						<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(e);<br>				&#125;	<br>				<span class="hljs-keyword">if</span>(e.compareTo(node.data) &lt; <span class="hljs-number">0</span>) &#123;<br>						node.left = add(node.left,e);			<br>				&#125; <span class="hljs-keyword">else</span> &#123;<br>						node.right = add(node.right,e);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(isRED(node.right) &amp;&amp; !isRED(node.left))&#123;<br>						node = leftRotate(node);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(isRED(node.left) &amp;&amp; node.left != <span class="hljs-literal">null</span> &amp;&amp; isRED(node.left.left))&#123;<br>						node = rightRotate(node);<br>				&#125;<br>				<span class="hljs-keyword">if</span>(isRED(node.left) &amp;&amp; isRED(node.right))&#123;<br>						flipColors(node);<br>				&#125;<br>				<span class="hljs-keyword">return</span> node;<br>		&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="树结构总结"><a href="#树结构总结" class="headerlink" title="树结构总结"></a>树结构总结</h1><h2 id="核心特性对比"><a href="#核心特性对比" class="headerlink" title="核心特性对比"></a>核心特性对比</h2><table>
<thead>
<tr>
<th>树类型</th>
<th>时间复杂度</th>
<th>空间复杂度</th>
<th>平衡性</th>
<th>实现复杂度</th>
<th>主要特点</th>
</tr>
</thead>
<tbody><tr>
<td>二叉查找树</td>
<td>平均O(log n)，最坏O(n)</td>
<td>O(n)</td>
<td>不保证</td>
<td>简单</td>
<td>查找、插入、删除操作简单</td>
</tr>
<tr>
<td>AVL树</td>
<td>O(log n)</td>
<td>O(n)</td>
<td>严格平衡</td>
<td>中等</td>
<td>查找性能稳定，但插入删除开销大</td>
</tr>
<tr>
<td>红黑树</td>
<td>O(log n)</td>
<td>O(n)</td>
<td>近似平衡</td>
<td>复杂</td>
<td>平衡插入删除开销，综合性能好</td>
</tr>
<tr>
<td>B树</td>
<td>O(log n)</td>
<td>O(n)</td>
<td>自平衡</td>
<td>复杂</td>
<td>减少磁盘I&#x2F;O，适合外存</td>
</tr>
<tr>
<td>B+树</td>
<td>O(log n)</td>
<td>O(n)</td>
<td>自平衡</td>
<td>复杂</td>
<td>叶子节点链接，支持范围查询</td>
</tr>
</tbody></table>
<h2 id="应用场景选择指南"><a href="#应用场景选择指南" class="headerlink" title="应用场景选择指南"></a>应用场景选择指南</h2><h3 id="内存存储场景"><a href="#内存存储场景" class="headerlink" title="内存存储场景"></a>内存存储场景</h3><p><strong>1. 普通二叉查找树</strong></p>
<ul>
<li><strong>适用场景：</strong> 数据相对随机分布，对性能要求不是特别严格</li>
<li><strong>典型应用：</strong> 教学演示、简单的查找应用</li>
<li><strong>选择理由：</strong> 实现简单，代码可读性好</li>
</ul>
<p><strong>2. AVL树</strong></p>
<ul>
<li><strong>适用场景：</strong> 查找操作频繁，插入删除操作较少</li>
<li><strong>典型应用：</strong> 静态数据的快速查询、字典实现</li>
<li><strong>选择理由：</strong> 严格平衡保证了稳定的查找性能</li>
</ul>
<p><strong>3. 红黑树</strong></p>
<ul>
<li><strong>适用场景：</strong> 增删改查操作都比较频繁，需要综合性能</li>
<li><strong>典型应用：</strong> Java的TreeMap&#x2F;TreeSet、C++的map&#x2F;set、Linux内核</li>
<li><strong>选择理由：</strong> 在保证O(log n)的同时，插入删除的平衡调整开销较小</li>
</ul>
<h3 id="外存存储场景"><a href="#外存存储场景" class="headerlink" title="外存存储场景"></a>外存存储场景</h3><p><strong>4. B树</strong></p>
<ul>
<li><strong>适用场景：</strong> 数据量大，需要持久化存储，随机访问为主</li>
<li><strong>典型应用：</strong> 数据库索引、文件系统</li>
<li><strong>选择理由：</strong> 减少磁盘I&#x2F;O次数，充分利用磁盘块大小</li>
</ul>
<p><strong>5. B+树</strong></p>
<ul>
<li><strong>适用场景：</strong> 需要范围查询，顺序访问频繁</li>
<li><strong>典型应用：</strong> MySQL的InnoDB引擎、PostgreSQL索引</li>
<li><strong>选择理由：</strong> 叶子节点的链式结构支持高效的范围扫描</li>
</ul>
<h2 id="决策框架"><a href="#决策框架" class="headerlink" title="决策框架"></a>决策框架</h2><p>在选择树结构时，建议按以下顺序考虑：</p>
<h3 id="1-存储方式决策"><a href="#1-存储方式决策" class="headerlink" title="1. 存储方式决策"></a>1. 存储方式决策</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">存储在内存？<br>├── 是 → 考虑二叉树系列（BST、AVL、红黑树）<br>└── 否 → 考虑多路树系列（<span class="hljs-selector-tag">B</span>树、<span class="hljs-selector-tag">B</span>+树）<br><br></code></pre></td></tr></table></figure>

<h3 id="2-操作模式决策"><a href="#2-操作模式决策" class="headerlink" title="2. 操作模式决策"></a>2. 操作模式决策</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css">内存存储的情况下：<br>├── 查找为主，很少修改 → AVL树<br>├── 增删改查都频繁 → 红黑树<br>└── 简单应用，性能要求不高 → 二叉查找树<br><br>外存存储的情况下：<br>├── 主要是点查询 → <span class="hljs-selector-tag">B</span>树<br>├── 需要范围查询 → <span class="hljs-selector-tag">B</span>+树<br>└── 混合场景 → <span class="hljs-selector-tag">B</span>+树（更通用）<br><br></code></pre></td></tr></table></figure>

<h3 id="3-性能要求决策"><a href="#3-性能要求决策" class="headerlink" title="3. 性能要求决策"></a>3. 性能要求决策</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css">对性能要求：<br>├── 极致查找性能 → AVL树<br>├── 平衡的增删改查性能 → 红黑树<br>├── 减少<span class="hljs-selector-tag">I</span>/O次数 → <span class="hljs-selector-tag">B</span>树/<span class="hljs-selector-tag">B</span>+树<br>└── 实现简单为主 → 二叉查找树<br><br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="category-chain-item">数据结构</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="print-no-link">#数据结构</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>数据结构 树与树结构的扩展</div>
      <div>http://gadoid.io/2025/09/15/数据结构-树与树结构的扩展/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Codfish</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年9月15日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/09/16/%E7%B3%BB%E7%BB%9F%E6%A0%88%E4%B8%8E%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80%E6%A0%88%E7%9A%84%E6%AF%94%E8%BE%83/" title="系统栈与高级语言栈的比较">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">系统栈与高级语言栈的比较</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/09/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E8%A1%A8%E7%BB%93%E6%9E%84%E5%AE%9E%E7%8E%B0/" title="数据结构 表结构实现">
                        <span class="hidden-mobile">数据结构 表结构实现</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"lQzCvqmOtewLtpMfvfxKLomU-MdYXbMMI","appKey":"daMNlw5XcjN8TelT6GCHh8RF","path":"window.location.pathname","placeholder":"让灵感在这里发生","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"visitor":true},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
      &copy; 2025 - 2025 <a target="_blank" rel="noopener" href="https://github.com/username">CODFISH</a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/chatbot-loader.js" defer></script><!-- hexo injector body_end end --></body>
</html>
