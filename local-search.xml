<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>task_struct</title>
    <link href="/2025/03/31/task-struct/"/>
    <url>/2025/03/31/task-struct/</url>
    
    <content type="html"><![CDATA[<p>ğŸ§  task_struct çš„ä¸»è¦ç»„æˆç»“æ„ï¼ˆæŒ‰åŠŸèƒ½åˆ†ç±»ï¼‰</p><ol><li>è¿›ç¨‹æ ‡è¯†<br>ç”¨äºæ ‡è¯†è¿›ç¨‹çš„å”¯ä¸€æ€§ï¼š</li></ol><p>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>pid_t pid;                      &#x2F;&#x2F; è¿›ç¨‹ID<br>pid_t tgid;                     &#x2F;&#x2F; çº¿ç¨‹ç»„IDï¼ˆä¸»çº¿ç¨‹çš„pidï¼‰<br>struct pid *thread_pid;        &#x2F;&#x2F; çº¿ç¨‹IDï¼ˆæ¯ä¸ªçº¿ç¨‹å”¯ä¸€ï¼‰<br>2. è¿›ç¨‹çŠ¶æ€ä¸è°ƒåº¦ç›¸å…³<br>åŒ…æ‹¬è¿›ç¨‹çŠ¶æ€ã€ä¼˜å…ˆçº§ã€è°ƒåº¦å™¨ç­–ç•¥ç­‰ï¼š</p><p>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>volatile long state;           &#x2F;&#x2F; å½“å‰è¿›ç¨‹çŠ¶æ€ï¼ˆå¦‚ TASK_RUNNING ç­‰ï¼‰<br>unsigned int flags;            &#x2F;&#x2F; æ ‡å¿—ä½ï¼ˆPF_å¼€å¤´ï¼‰<br>int prio;                      &#x2F;&#x2F; åŠ¨æ€ä¼˜å…ˆçº§<br>int static_prio;               &#x2F;&#x2F; é™æ€ä¼˜å…ˆçº§<br>int policy;                    &#x2F;&#x2F; è°ƒåº¦ç­–ç•¥ï¼ˆå¦‚ SCHED_NORMALï¼‰<br>struct sched_entity se;        &#x2F;&#x2F; CFSè°ƒåº¦å®ä½“<br>3. çˆ¶å­è¿›ç¨‹å…³ç³»<br>è®°å½•è¿›ç¨‹ä¹‹é—´çš„å±‚çº§å…³ç³»ï¼š</p><p>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct task_struct *real_parent;   &#x2F;&#x2F; åˆ›å»ºå®ƒçš„è¿›ç¨‹<br>struct task_struct *parent;        &#x2F;&#x2F; å½“å‰çˆ¶è¿›ç¨‹<br>struct list_head children;         &#x2F;&#x2F; å­è¿›ç¨‹é“¾è¡¨<br>struct list_head sibling;          &#x2F;&#x2F; å…„å¼Ÿè¿›ç¨‹é“¾è¡¨<br>4. å†…å­˜ç®¡ç†<br>ä¸åœ°å€ç©ºé—´å’Œè™šæ‹Ÿå†…å­˜ç›¸å…³çš„ä¿¡æ¯ï¼š</p><p>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct mm_struct *mm;             &#x2F;&#x2F; è¿›ç¨‹çš„å†…å­˜æè¿°ç¬¦ï¼ˆç”¨æˆ·æ€ï¼‰<br>struct mm_struct *active_mm;      &#x2F;&#x2F; å½“å‰æ´»è·ƒçš„ mmï¼ˆå†…æ ¸çº¿ç¨‹ä¹Ÿä¼šè®¾ç½®ï¼‰<br>5. æ–‡ä»¶ç³»ç»Ÿä¸æ–‡ä»¶æè¿°ç¬¦è¡¨<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct fs_struct *fs;             &#x2F;&#x2F; æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ï¼ˆå½“å‰ç›®å½•ç­‰ï¼‰<br>struct files_struct *files;       &#x2F;&#x2F; æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦è¡¨<br>struct fs_struct *fs;             &#x2F;&#x2F; æ ¹ç›®å½•ã€å½“å‰å·¥ä½œç›®å½•ç­‰ä¿¡æ¯<br>6. ä¿¡å·å¤„ç†<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct signal_struct *signal;     &#x2F;&#x2F; æ‰€å±çº¿ç¨‹ç»„çš„ä¿¡å·å¤„ç†ç»“æ„<br>struct sighand_struct *sighand;   &#x2F;&#x2F; ä¿¡å·å¤„ç†å‡½æ•°<br>sigset_t blocked;                 &#x2F;&#x2F; å½“å‰å±è”½çš„ä¿¡å·<br>7. å‘½åç©ºé—´ï¼ˆNamespaceï¼‰<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct nsproxy *nsproxy;          &#x2F;&#x2F; å„ç±»å‘½åç©ºé—´çš„ç»Ÿä¸€æ¥å£<br>8. CPU å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ç›¸å…³<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct thread_struct thread;      &#x2F;&#x2F; å­˜å‚¨CPUå¯„å­˜å™¨ç­‰ä¸Šä¸‹æ–‡ä¿¡æ¯<br>int on_cpu;                       &#x2F;&#x2F; æ˜¯å¦åœ¨CPUä¸Šè¿è¡Œ<br>struct cpumask *cpus_allowed;     &#x2F;&#x2F; å…è®¸è¿è¡Œåœ¨å“ªäº›CPUä¸Š<br>9. æ—¶é—´ç»Ÿè®¡<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>u64 utime;                        &#x2F;&#x2F; ç”¨æˆ·æ€è¿è¡Œæ—¶é—´<br>u64 stime;                        &#x2F;&#x2F; å†…æ ¸æ€è¿è¡Œæ—¶é—´<br>10. Cgroup ä¸èµ„æºé™åˆ¶<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>struct css_set *cgroups;          &#x2F;&#x2F; æ‰€å±çš„ cgroup é›†åˆ<br>11. è°ƒè¯•ä¸è¿½è¸ª<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>unsigned long ptrace;             &#x2F;&#x2F; æ˜¯å¦è¢« ptrace è¿½è¸ª<br>12. å†…æ ¸åŒæ­¥ä¸é”<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>spinlock_t alloc_lock;            &#x2F;&#x2F; ç”¨äºä¿æŠ¤ä»»åŠ¡ç»“æ„ä¸­çš„å…³é”®åŒºåŸŸ<br>13. å…¶ä»–å¸¸ç”¨å­—æ®µ<br>c<br>å¤åˆ¶<br>ç¼–è¾‘<br>char comm[TASK_COMM_LEN];         &#x2F;&#x2F; è¿›ç¨‹åï¼ˆæœ€å¤š16å­—èŠ‚ï¼‰<br>struct task_struct *group_leader; &#x2F;&#x2F; çº¿ç¨‹ç»„çš„ leader<br>int exit_code;                    &#x2F;&#x2F; é€€å‡ºä»£ç <br>ğŸ”§ å°ç»“å›¾è§£ï¼ˆç®€ç•¥ï¼‰<br>perl<br>å¤åˆ¶<br>ç¼–è¾‘<br>task_struct<br>â”œâ”€â”€ è¿›ç¨‹æ ‡è¯†ï¼špid, tgid<br>â”œâ”€â”€ çŠ¶æ€ä¸è°ƒåº¦ï¼šstate, prio, policy, se<br>â”œâ”€â”€ çˆ¶å­å…³ç³»ï¼šparent, children<br>â”œâ”€â”€ å†…å­˜ç®¡ç†ï¼šmm, active_mm<br>â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿï¼šfiles, fs<br>â”œâ”€â”€ ä¿¡å·å¤„ç†ï¼šsignal, sighand<br>â”œâ”€â”€ å‘½åç©ºé—´ï¼šnsproxy<br>â”œâ”€â”€ CPUè°ƒåº¦ï¼šthread, on_cpu<br>â”œâ”€â”€ æ—¶é—´ç»Ÿè®¡ï¼šutime, stime<br>â”œâ”€â”€ Cgroupï¼šcgroups<br>â”œâ”€â”€ åŒæ­¥é”ï¼šalloc_lock<br>â”œâ”€â”€ è°ƒè¯•è¿½è¸ªï¼šptrace<br>â””â”€â”€ é€šç”¨ä¿¡æ¯ï¼šcomm, exit_code</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç¼–ç¨‹è¯­è¨€_C</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Difyçš„Chatflowå®ç°</title>
    <link href="/2025/03/28/Dify%E7%9A%84Chatflow%E5%AE%9E%E7%8E%B0/"/>
    <url>/2025/03/28/Dify%E7%9A%84Chatflow%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä¸Šä¸€æ¬¡çš„åŸºç¡€ä¸Šè¿›è¡Œä¸€äº›åŠŸèƒ½å®ç°ã€‚</p><p>é€šè¿‡å‘å¤§æ¨¡å‹æè¿°è¯·æ±‚æ¥å®Œæˆä¸€äº›æœåŠ¡å™¨ç«¯çš„åŠŸèƒ½</p><h2 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h2><p>æµç¨‹ Dify Chatflow ä»»åŠ¡æµ â†’ è‡ªå®šä¹‰æ’ä»¶æ„å»ºå®¢æˆ·ç«¯è¯·æ±‚ â†’ æœåŠ¡å™¨ç«¯ç›‘å¬è¯·æ±‚ï¼Œè§£æè¯·æ±‚å¹¶å¤„ç† â†’æ’ä»¶æ¥æ”¶è¯·æ±‚å“åº”ï¼Œä¼ é€’ç»“æœç»™LLM è¿›è¡Œä¼˜åŒ–å±•ç¤ºã€‚</p><h2 id="åˆ›å»ºä»»åŠ¡æµ"><a href="#åˆ›å»ºä»»åŠ¡æµ" class="headerlink" title="åˆ›å»ºä»»åŠ¡æµ"></a>åˆ›å»ºä»»åŠ¡æµ</h2><p>åˆ›å»ºç©ºç™½åº”ç”¨â†’Chatflow</p><p>ChatFlowæ˜¯ç”±å¤šä¸ªç»„ä»¶æ„æˆçš„å·¥ä½œæµç¨‹</p><p><img src="https://i.111666.best/image/4MRRqKxQVG504FjR2SaGTk.png" alt="image"></p><p>åœ¨è¿™ä¸ªå·¥ä½œæµç¨‹ä¸­ï¼Œæ¯æ¬¡çš„å¯¹è¯ä¼šè¢«ä½œä¸ºè¾“å…¥å‚æ•°ä¼ å…¥åˆ°å·¥ä½œæµä¸­è¿›è¡Œå¤„ç†</p><p>å½“å‰å®ç°çš„åŠŸèƒ½ ï¼š </p><ol><li>æŸ¥è¯¢æœåŠ¡å™¨å…è®¸æ‰§è¡Œçš„å‘½ä»¤è¡Œå·¥å…·</li><li>ç”±å¤§æ¨¡å‹åˆ†æç”¨æˆ·æŒ‡ä»¤ï¼Œä»æä¾›çš„å‘½ä»¤åˆ—è¡¨ä¸­ç»„ç»‡å‘½ä»¤æµç¨‹ä¸‹å‘åˆ°æœåŠ¡å™¨ç«¯æ‰§è¡Œ</li></ol><p>è¿™é‡Œçš„ç¼–æ’</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">å¼€å§‹-é—®é¢˜åˆ†ç±»å™¨-æƒ…å†µ1(å‘æœåŠ¡å™¨ç«¯è¯·æ±‚æŸ¥è¯¢åŠŸèƒ½)-äº¤ç”±æ’ä»¶å‘æœåŠ¡å™¨ç«¯å‘é€æŸ¥è¯¢è¯·æ±‚-å¤„ç†å“åº”-å›å¤<br>              -æƒ…å†µ2(åˆ†æç”¨æˆ·éœ€æ±‚ç”Ÿæˆå¯¹åº”æŒ‡ä»¤)-ç”±æ’ä»¶æ„å»ºè¯·æ±‚å‘æœåŠ¡å™¨è¯·æ±‚æ‰§è¡Œ-å¤„ç†å“åº”-å›å¤<br></code></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æ’ä»¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚"><a href="#è‡ªå®šä¹‰æ’ä»¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚" class="headerlink" title="è‡ªå®šä¹‰æ’ä»¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚"></a>è‡ªå®šä¹‰æ’ä»¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚</h2><p>ç”± ä¸Šä¸€èŠ‚ä¸­çš„è®¾è®¡æµç¨‹æ¥çœ‹æˆ‘ä»¬è‡³å°‘éœ€è¦æ„å»ºä¸¤ä¸ªè¯·æ±‚ ï¼š</p><p>1 . Get è¯·æ±‚  å‘æœåŠ¡ç«¯è¯·æ±‚åº”ç”¨ç¨‹åºåˆ—è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Desktop_get</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> json<br><br>FetchKey = <span class="hljs-string">&quot;/key&quot;</span><br>Command = <span class="hljs-string">&quot;/command&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DestopHTool</span>(<span class="hljs-title class_ inherited__">Tool</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_invoke</span>(<span class="hljs-params">self, tool_parameters: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]</span>) -&gt; Generator[ToolInvokeMessage]:<br>        ip = tool_parameters.get(<span class="hljs-string">&quot;ip&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        port = tool_parameters.get(<span class="hljs-string">&quot;port&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        key = <span class="hljs-variable language_">self</span>.fetch_key(ip,port)<br>        url = <span class="hljs-string">f&quot;http://<span class="hljs-subst">&#123;ip&#125;</span>:<span class="hljs-subst">&#123;port&#125;</span><span class="hljs-subst">&#123;Command&#125;</span>&quot;</span><br>        headers=&#123;<span class="hljs-string">&quot;X-Api-Key&quot;</span>:key&#125;<br>        res = requests.get(url=url,headers=headers,timeout=<span class="hljs-number">30</span>).json()<br>        <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">self</span>.create_text_message(<span class="hljs-built_in">str</span>(res[<span class="hljs-string">&quot;commands&quot;</span>])<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_key</span>(<span class="hljs-params">self,ip,port</span>) : <br>        url = <span class="hljs-string">f&quot;http://<span class="hljs-subst">&#123;ip&#125;</span>:<span class="hljs-subst">&#123;port&#125;</span><span class="hljs-subst">&#123;FetchKey&#125;</span>&quot;</span><br><br>        js = requests.get(url=url,timeout=<span class="hljs-number">30</span>).json()<br>        <span class="hljs-keyword">return</span> js[<span class="hljs-string">&quot;key&quot;</span>]<br></code></pre></td></tr></table></figure><ol start="2"><li>Post è¯·æ±‚ å‘æœåŠ¡ç«¯å‘é€å‘½ä»¤æ‰§è¡Œåˆ—è¡¨ï¼Œç”±æœåŠ¡ç«¯è¿›è¡Œå‘½ä»¤æ‰§è¡Œ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> json<br><br>EXEC=<span class="hljs-string">&quot;/execute&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DestopHelperTool</span>(<span class="hljs-title class_ inherited__">Tool</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_invoke</span>(<span class="hljs-params">self, tool_parameters: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]</span>) -&gt; Generator[ToolInvokeMessage]:<br>        content = tool_parameters.get(<span class="hljs-string">&quot;text&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        ip = tool_parameters.get(<span class="hljs-string">&quot;ip&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        port = tool_parameters.get(<span class="hljs-string">&quot;port&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        url = <span class="hljs-string">f&quot;http://<span class="hljs-subst">&#123;ip&#125;</span>:<span class="hljs-subst">&#123;port&#125;</span><span class="hljs-subst">&#123;EXEC&#125;</span>&quot;</span><br>        <span class="hljs-built_in">print</span>(url)<br>        key = tool_parameters.get(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        headers=&#123;<span class="hljs-string">&quot;X-Api-Key&quot;</span>:key,<span class="hljs-string">&quot;Content-Type&quot;</span>:<span class="hljs-string">&quot;application/json&quot;</span>&#125;<br>        <span class="hljs-built_in">print</span>(headers)<br>        res = requests.post(url=url,json=json.loads(content),headers=headers,timeout=<span class="hljs-number">30</span>).text<br>        <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">self</span>.create_text_message(res)<br><br></code></pre></td></tr></table></figure><h2 id="æ„å»ºæœåŠ¡å™¨ç«¯æ¥å£"><a href="#æ„å»ºæœåŠ¡å™¨ç«¯æ¥å£" class="headerlink" title="æ„å»ºæœåŠ¡å™¨ç«¯æ¥å£"></a>æ„å»ºæœåŠ¡å™¨ç«¯æ¥å£</h2><p>ä½¿ç”¨flask æ„å»ºä¸€ä¸ªæ¥æ”¶ä»¥ä¸Šè¯·æ±‚çš„æœåŠ¡ç¨‹åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, jsonify, request<br><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps<br><span class="hljs-keyword">import</span> uuid<br><span class="hljs-keyword">import</span> subprocess<br><span class="hljs-keyword">import</span> pexpect<br><br>app = Flask(__name__)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">require_key</span>(<span class="hljs-params">f</span>):<br><span class="hljs-meta">    @wraps(<span class="hljs-params">f</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorated_function</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        <span class="hljs-built_in">print</span>(request.headers)<br>        key = request.headers.get(<span class="hljs-string">&#x27;X-API-KEY&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(keys)<br>        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> keys:<br>            <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;error&#x27;</span>: <span class="hljs-string">&#x27;Invalid API key&#x27;</span>&#125;), <span class="hljs-number">401</span><br>        <span class="hljs-keyword">return</span> f(*args, **kwargs)<br>    <span class="hljs-keyword">return</span> decorated_function<br><br><span class="hljs-comment"># å¯†é’¥åˆ›å»ºè·¯ç”±</span><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/key&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_key</span>():<br>    key = <span class="hljs-built_in">str</span>(uuid.uuid4())<br>    keys[key] = <span class="hljs-literal">True</span><br>    <span class="hljs-built_in">print</span>(keys)<br>    <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: key&#125;)<br><br><span class="hljs-comment"># è·å–æ‰€æœ‰åŠŸèƒ½è·¯ç”±</span><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/command&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-meta">@require_key</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_functions</span>():<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-comment"># è·å–PATHç¯å¢ƒå˜é‡ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶</span><br>        result = subprocess.run([<span class="hljs-string">&#x27;ls&#x27;</span>, <span class="hljs-string">&#x27;/server/bin&#x27;</span>], capture_output=<span class="hljs-literal">True</span>, text=<span class="hljs-literal">True</span>)<br>        commands = result.stdout.split(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>        <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;status&#x27;</span>: <span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-string">&#x27;commands&#x27;</span>: commands&#125;)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;status&#x27;</span>: <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-built_in">str</span>(e)&#125;)<br><span class="hljs-comment"># æ‰§è¡Œå‘½ä»¤è·¯ç”±</span><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/execute&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>]</span>)</span><br><span class="hljs-meta">@require_key</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    æ‰§è¡Œä¼ å…¥çš„å‘½ä»¤å¹¶è¿”å›ç»“æœ</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    data = request.json<br>    <span class="hljs-built_in">print</span>(data)<br>    commands = data.get(<span class="hljs-string">&#x27;commands&#x27;</span>)<br>    result = []<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> commands:<br>        <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;status&#x27;</span>: <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;No command provided&#x27;</span>&#125;)<br>    <br>    <span class="hljs-keyword">try</span>:<br>        shell = pexpect.spawn(<span class="hljs-string">&#x27;/bin/bash&#x27;</span>)<br>        <span class="hljs-keyword">for</span> command <span class="hljs-keyword">in</span> commands:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(command, <span class="hljs-built_in">dict</span>):<br>                <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;status&#x27;</span>: <span class="hljs-string">&#x27;error&#x27;</span>,<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Invalid command format&#x27;</span>&#125;)<br>            command_line = []<br>            command_line.append(command[<span class="hljs-string">&quot;command&quot;</span>])<br>            command_line.extend(command[<span class="hljs-string">&quot;args&quot;</span>])<br>            cmd = <span class="hljs-string">&quot; &quot;</span>.join(command_line)<br>            marker = <span class="hljs-string">f&quot;CMD_END_<span class="hljs-subst">&#123;<span class="hljs-built_in">hash</span>(cmd)&#125;</span>&quot;</span><br>            shell.sendline(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;cmd&#125;</span>; echo &#x27;<span class="hljs-subst">&#123;marker&#125;</span>&#x27;&quot;</span>)<br>            shell.expect(marker)<br>            <span class="hljs-comment"># è·å–è¾“å‡º</span><br>            output = shell.before.decode().strip()<br>            <span class="hljs-built_in">print</span>(output)<br>            result.append( &#123;<br>                <span class="hljs-string">&#x27;command&#x27;</span>: cmd,<br>                <span class="hljs-string">&#x27;status&#x27;</span>:<span class="hljs-string">&#x27;success&#x27;</span>,<br>                <span class="hljs-string">&#x27;stdout&#x27;</span>: output,<br>            &#125;)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&#x27;status&#x27;</span>: <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-built_in">str</span>(e)&#125;)<br>    shell.close()<br>    <span class="hljs-built_in">print</span>(result)<br>    <span class="hljs-keyword">return</span> jsonify(&#123;<span class="hljs-string">&quot;result&quot;</span>: result&#125;)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(host=<span class="hljs-string">&#x27;0.0.0.0&#x27;</span>, port=<span class="hljs-number">5000</span>, debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>Get è¯·æ±‚è¿”å›çš„æ¶ˆæ¯ä½“</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;commands&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-string">&quot;hexo&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;ls&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;lscpu&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;python&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;zip&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>Postè¯·æ±‚æ¥æ”¶çš„æ¶ˆæ¯ä½“</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;commands&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ls&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;-l&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;/home/codfish&quot;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>å¯åŠ¨æœ¬åœ°æ’ä»¶è°ƒè¯•å’ŒæœåŠ¡ç«¯</p><h2 id="æ‰§è¡Œå·¥ä½œæµ"><a href="#æ‰§è¡Œå·¥ä½œæµ" class="headerlink" title="æ‰§è¡Œå·¥ä½œæµ"></a>æ‰§è¡Œå·¥ä½œæµ</h2><p>å‘æœºå™¨äººè¯·æ±‚æŸ¥çœ‹æœåŠ¡ç«¯æä¾›çš„åº”ç”¨åˆ—è¡¨ ï¼š </p><p><img src="https://i.111666.best/image/lgRg7jkIDaRm4Fs8moXWkk.png" alt="image"></p><p>å‘æœºå™¨äººè¯·æ±‚æŸ¥è¯¢æŸä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯ï¼š</p><p><img src="https://i.111666.best/image/PI0vurDrzyzDKmIyPWrGCh.jpg" alt="image"></p><p>è¯·æ±‚å®‰è£…python åº“ï¼š</p><p><img src="https://i.111666.best/image/fY63mSee5VABzV7CFrSHuu.png" alt="image"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å®Œæˆäº†åŸºæœ¬åŠŸèƒ½çš„å®ç°</p><p>åœ¨æŸäº›æƒ…å†µä¸‹æç¤ºè¯è¿˜æ˜¯ä¼šå‡ºç°å¼‚å¸¸ï¼Œéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç¯å¢ƒæ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WSL2+Dify é…ç½®å¤§æ¨¡å‹æ¡Œé¢ç«¯èµ„æºè®¿é—®(ç®€å•åº”ç”¨)</title>
    <link href="/2025/03/25/WSL2-Dify-%E9%85%8D%E7%BD%AE%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%A1%8C%E9%9D%A2%E7%AB%AF%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE-%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/"/>
    <url>/2025/03/25/WSL2-Dify-%E9%85%8D%E7%BD%AE%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%A1%8C%E9%9D%A2%E7%AB%AF%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE-%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä½¿ç”¨WSL2 åšäº†difyçš„æœ¬åœ°åŒ–éƒ¨ç½²ã€‚è¯•ç€ä½¿ç”¨å·¥ä½œæµçš„æ–¹å¼å®ç°ä¸€ä¸ªå·¥ä½œæµæ¥é€šè¿‡å’Œå¤§æ¨¡å‹å¯¹è¯å®Œæˆå¯¹æœ¬åœ°èµ„æºçš„è®¿é—®ã€‚</p><h1 id="é¢„é…ç½®"><a href="#é¢„é…ç½®" class="headerlink" title="é¢„é…ç½®"></a>é¢„é…ç½®</h1><h2 id="WSL2çš„æœ¬åœ°éƒ¨ç½²"><a href="#WSL2çš„æœ¬åœ°éƒ¨ç½²" class="headerlink" title="WSL2çš„æœ¬åœ°éƒ¨ç½²"></a>WSL2çš„æœ¬åœ°éƒ¨ç½²</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">wsl --list  <span class="hljs-comment"># æŸ¥è¯¢æ”¯æŒçš„wslå­ç³»ç»Ÿå‘è¡Œç‰ˆæœ¬</span><br>wsl --install <span class="hljs-comment"># å®‰è£…é»˜è®¤çš„wslå­ç³»ç»Ÿ</span><br></code></pre></td></tr></table></figure><p>éƒ¨ç½²å®Œæˆåï¼Œé…ç½®å®‰è£…aptæº ï¼ŒDockeræºï¼ˆé•œåƒæœ‰é—®é¢˜å¯ä»¥æŸ¥è¯¢ä¹‹å‰çš„æ–‡ç« ï¼‰ï¼ŒGité…ç½®ï¼Œä»¥åŠ ä¸€äº›åŸºæœ¬çš„å‘½ä»¤è¡Œå·¥å…·</p><h2 id="Dify-æœ¬åœ°éƒ¨ç½²"><a href="#Dify-æœ¬åœ°éƒ¨ç½²" class="headerlink" title="Dify æœ¬åœ°éƒ¨ç½²"></a>Dify æœ¬åœ°éƒ¨ç½²</h2><p>Github ä¸Š <a href="https://github.com/langgenius/dify">https://github.com/langgenius/dify</a> æœ‰éƒ¨ç½²æ•™ç¨‹ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> dify<br><span class="hljs-built_in">cd</span> docker<br><span class="hljs-built_in">cp</span> .env.example .<span class="hljs-built_in">env</span><br>docker compose up -d<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•å è®¿é—®æœ¬åœ°çš„<a href="http://localhost/install">http://localhost/install</a>  è¿›è¡Œç®¡ç†å‘˜é…ç½®</p><p>è‡³æ­¤æˆ‘ä»¬è·å¾—äº†ä¸€ä¸ªéƒ¨ç½²åœ¨æœ¬åœ°windowså­ç³»ç»Ÿä¸Šçš„difyç¯å¢ƒ</p><h1 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h1><p><img src="https://i.111666.best/image/YNLclFRYQ3PLOr79iU1PyH.png" alt="image"></p><p>ç›®æ ‡æ˜¯é€šè¿‡å’Œå¤§æ¨¡å‹å¯¹è¯ï¼Œè¯†åˆ«å…¶ä¸­çš„å…³é”®è¯æ¥å®Œæˆå’Œè‡ªå®šä¹‰æ’ä»¶ä¸­çš„åŠŸèƒ½çš„æ˜ å°„å…³ç³»ã€‚å‘æœ¬åœ°çš„HTTPæœåŠ¡å™¨å‘é€å¯¹åº”è¯·æ±‚ã€‚å®ŒæˆåŠŸèƒ½çš„æ‰§è¡Œ</p><p>ä¸€äº›æœªæ¥å¯è¡Œçš„æ‰©å±•é¡¹</p><ol><li>æ›´å¥½çš„æœåŠ¡é€šä¿¡æ–¹å¼ã€‚wsl2 å­ç³»ç»Ÿå¯ä»¥ç›´æ¥å¯¹æŒ‚è½½åˆ°è¯¥ç³»ç»Ÿçš„windowsç³»ç»Ÿä¸Šçš„æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚æ‰€ä»¥å­˜åœ¨æ›´å¿«æ·æ–¹æ³•è°ƒç”¨æœ¬åœ°èµ„æºã€‚ä½†æ˜¯è¿™å¯èƒ½éœ€è¦difyæä¾›æ›´ä¸°å¯Œçš„è°ƒç”¨æ–¹å¼æˆ–è€…åœ¨dockerå±‚é¢ä¸Šè¿›è¡Œä¸€äº›åŠŸèƒ½å®šåˆ¶ï¼Œå½“å‰åªæ˜¯ä¸€ä¸ªå¯è¡Œæ€§å°è¯•ã€‚æ‰€ä»¥ä½¿ç”¨äº† httpçš„è°ƒç”¨-å“åº”æ¨¡å¼</li><li>æ³¨å†Œï¼Œ æä¾›ä¸€ä¸ªé€šç”¨çš„PCå¹³å°åº”ç”¨å‘ç°æœåŠ¡ã€‚è€Œä¸æ˜¯é€šè¿‡å°†æ‰€æœ‰çš„å¯æ‰§è¡Œç¨‹åºæ³¨å†Œä¸ºDifyçš„è‡ªå®šä¹‰æ’ä»¶åŠŸèƒ½ã€‚è¿™æ ·æ›´åŠ çµæ´»</li><li>æœ¬åœ°çš„éƒ¨ç½²+è‡ªç„¶è¯­è¨€çš„è¯·æ±‚+æ’ä»¶è‡ªå®šä¹‰åŠŸèƒ½çš„è§£è€¦ ç›®å‰æ¥çœ‹ç›¸å¯¹è¿˜æ˜¯æ¯”è¾ƒå®‰å…¨ã€‚å¦‚æœéœ€è¦å®ç°è¿œç¨‹çš„è¯·æ±‚è°ƒç”¨å¯èƒ½éœ€è¦æ›´åŠ å®‰å…¨çš„ä¿¡æ¯ä¼ è¾“æ–¹å¼</li><li>åœ¨æœ¬åœ°æ·»åŠ åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶èµ„æºçš„è°ƒç”¨è®°å½•ã€‚</li></ol><h1 id="Difyçš„è‡ªå®šä¹‰æ’ä»¶"><a href="#Difyçš„è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="Difyçš„è‡ªå®šä¹‰æ’ä»¶"></a>Difyçš„è‡ªå®šä¹‰æ’ä»¶</h1><h2 id="è„šæ‰‹æ¶å·¥å…·åˆå§‹åŒ–"><a href="#è„šæ‰‹æ¶å·¥å…·åˆå§‹åŒ–" class="headerlink" title="è„šæ‰‹æ¶å·¥å…·åˆå§‹åŒ–"></a>è„šæ‰‹æ¶å·¥å…·åˆå§‹åŒ–</h2><p>å®˜æ–¹æ–‡æ¡£</p><p><a href="https://docs.dify.ai/zh-hans/plugins/quick-start/develop-plugins/initialize-development-tools">https://docs.dify.ai/zh-hans/plugins/quick-start/develop-plugins/initialize-development-tools</a></p><p>ä¸‹è½½ Difyçš„æ’ä»¶è„šæ‰‹æ¶å·¥å…· <a href="https://github.com/langgenius/dify-plugin-daemon/tags">https://github.com/langgenius/dify-plugin-daemon/tags</a></p><p>ä»¥tools ç±»å‹ä¸ºä¾‹  åˆå§‹åŒ– æ’ä»¶é¡¹ç›®ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">dify-plugin-windows-amd64 plugin init <br></code></pre></td></tr></table></figure><p><img src="https://i.111666.best/image/36KrL8MFwMSB0kHm0M7VGs.png" alt="image"><br>name åˆ›å»º æ’ä»¶å</p><p>author æ’ä»¶ä½œè€…</p><p>description æ’ä»¶åŠŸèƒ½æè¿°</p><p>è¯­è¨€ : python</p><p>å·¥å…· : tools  (è‡ªå®šä¹‰tools ç±»å‹æ’ä»¶</p><p><img src="https://i.111666.best/image/htD6C2oNrddvAuEyXVdmep.png" alt="image"></p><p>ä¸€äº›æƒé™çš„è®¾ç½®</p><p>æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€ä¸ªè¿™æ ·çš„å·¥ç¨‹</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›æ¯”è¾ƒé‡è¦çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">- _assets  <span class="hljs-comment"># å­˜æ”¾ä¸€äº›å¼•ç”¨èµ„æº</span><br>- provider <span class="hljs-comment"># </span><br>  - someplugin.py <span class="hljs-comment"># è¿›è¡Œä¸€äº›å¼‚å¸¸å¤„ç†</span><br>- someplugin.yaml <span class="hljs-comment"># æ’ä»¶åŠŸèƒ½/èµ„æºæè¿° </span><br>- tools    <span class="hljs-comment"># å…·ä½“çš„toolsåŠŸèƒ½å®ç°</span><br>- somefunction.py <span class="hljs-comment"># å…·ä½“çš„åŠŸèƒ½å®ç°</span><br>- somefunction.yaml <span class="hljs-comment"># åŠŸèƒ½/èµ„æºæè¿°</span><br>- main.py <span class="hljs-comment"># å‡½æ•°å…¥å£</span><br>- manifest.yaml <span class="hljs-comment">#  æ’ä»¶æè¿°</span><br> <br></code></pre></td></tr></table></figure><h2 id="æ’ä»¶åŠŸèƒ½å®šä¹‰"><a href="#æ’ä»¶åŠŸèƒ½å®šä¹‰" class="headerlink" title="æ’ä»¶åŠŸèƒ½å®šä¹‰"></a>æ’ä»¶åŠŸèƒ½å®šä¹‰</h2><p>æ’ä»¶é€šè¿‡è°ƒç”¨çš„æ˜¯_invokeæ–¹æ³•æ¥æ‰§è¡Œå¯¹åº”çš„åŠŸèƒ½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections.abc <span class="hljs-keyword">import</span> Generator<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span><br><br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-keyword">from</span> dify_plugin <span class="hljs-keyword">import</span> Tool<br><span class="hljs-keyword">from</span> dify_plugin.entities.tool <span class="hljs-keyword">import</span> ToolInvokeMessage<br><br>BASE_URL =<span class="hljs-string">&quot;&lt;http://localhost:8080&gt;&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DestopHTool</span>(<span class="hljs-title class_ inherited__">Tool</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_invoke</span>(<span class="hljs-params">self, tool_parameters: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]</span>) -&gt; Generator[ToolInvokeMessage]:<br>        method = tool_parameters.get(<span class="hljs-string">&quot;method&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)<br>        result = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> method == <span class="hljs-string">&quot;desktop_get&quot;</span> :<br>            result = requests.get(BASE_URL).text<br>        <span class="hljs-keyword">yield</span>  <span class="hljs-variable language_">self</span>.create_text_message(<span class="hljs-string">f&#x27;è°ƒç”¨äº†<span class="hljs-subst">&#123;method&#125;</span>,è¿”å›<span class="hljs-subst">&#123;result&#125;</span>&#x27;</span>)<br><br></code></pre></td></tr></table></figure><p>è¿™é‡Œç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„httpè¯·æ±‚è°ƒç”¨ï¼Œä½¿ç”¨requestæ¨¡æ‹Ÿhttp get è¯·æ±‚ã€‚å¹¶è¿”å›æ¥æ”¶åˆ°çš„æ¶ˆæ¯</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">identity:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">desktop_get</span>      <span class="hljs-comment"># æ–¹æ³•å</span><br>  <span class="hljs-attr">author:</span> <span class="hljs-string">codfish</span><br>  <span class="hljs-attr">label:</span><br>    <span class="hljs-attr">en_US:</span> <span class="hljs-string">destop_get</span><br>    <span class="hljs-attr">zh_Hans:</span> <span class="hljs-string">destop_get</span><br>    <span class="hljs-attr">pt_BR:</span> <span class="hljs-string">destop_get</span><br><span class="hljs-attr">description:</span><br>  <span class="hljs-attr">human:</span><br>    <span class="hljs-attr">en_US:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>    <span class="hljs-attr">zh_Hans:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>    <span class="hljs-attr">pt_BR:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>  <span class="hljs-attr">llm:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br><span class="hljs-attr">parameters:</span>       <span class="hljs-comment">#è‡ªå®šä¹‰å‚æ•°</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">url</span>     <span class="hljs-comment">#å‚æ•°å</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>  <span class="hljs-comment">#å‚æ•°ç±»å‹</span><br>    <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">label:</span><br>      <span class="hljs-attr">en_US:</span> <span class="hljs-string">Query</span> <span class="hljs-string">string</span><br>      <span class="hljs-attr">zh_Hans:</span> <span class="hljs-string">æŸ¥è¯¢è¯­å¥</span><br>      <span class="hljs-attr">pt_BR:</span> <span class="hljs-string">Query</span> <span class="hljs-string">string</span><br>    <span class="hljs-attr">human_description:</span><br>      <span class="hljs-attr">en_US:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>      <span class="hljs-attr">zh_Hans:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>      <span class="hljs-attr">pt_BR:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>    <span class="hljs-attr">llm_description:</span> <span class="hljs-string">a</span> <span class="hljs-string">interface</span> <span class="hljs-string">design</span> <span class="hljs-string">for</span> <span class="hljs-string">destop_application_oprating</span> <br>    <span class="hljs-attr">form:</span> <span class="hljs-string">llm</span><br><span class="hljs-attr">extra:</span><br>  <span class="hljs-attr">python:</span><br>    <span class="hljs-attr">source:</span> <span class="hljs-string">tools/desktop_get.py</span>  <span class="hljs-comment">#å¯¹åº”çš„pythonå®ç°æ–‡ä»¶</span><br><br></code></pre></td></tr></table></figure><p>æ¯ä¸ªtools æ’ä»¶å…è®¸æ·»åŠ å¤šä¸ªæ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éœ€è¦å®šä¹‰è‡ªå·±çš„æ¨¡å—æ–‡ä»¶(.py)å’Œèµ„æºæè¿°æ–‡ä»¶ï¼ˆ.yamlï¼‰</p><p>å…¶ç»“æ„ä¸º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">tools\\</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">somefunction1.py</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">somefunction1.yaml</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">somefunction2.py</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">somefunction2.yaml</span><br>  <span class="hljs-string">...</span><br></code></pre></td></tr></table></figure><h2 id="æ’ä»¶è°ƒè¯•"><a href="#æ’ä»¶è°ƒè¯•" class="headerlink" title="æ’ä»¶è°ƒè¯•"></a>æ’ä»¶è°ƒè¯•</h2><p>é€šè¿‡ä¿®æ”¹å·¥ä½œç›®å½•ä¸­çš„.env.example ä¸º.env</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">INSTALL_METHOD=remote</span><br><span class="hljs-string">REMOTE_INSTALL_HOST=debug.dify.ai</span><br><span class="hljs-string">REMOTE_INSTALL_PORT=5003</span><br><span class="hljs-string">REMOTE_INSTALL_KEY=some_install_key</span><br></code></pre></td></tr></table></figure><p>å°†difyæ’ä»¶é¡µçš„è°ƒè¯•ä¿¡æ¯å¡«å……åˆ°.envä¸­ï¼Œæœ¬åœ°æ‰§è¡Œmainæ–¹æ³•ï¼Œæ’ä»¶ä¼šè¢«åŠ è½½åˆ°difyçš„æ’ä»¶åˆ—è¡¨ä¸­</p><p><img src="https://i.111666.best/image/TmrbwxdMkhWRuygRCXbdGp.png" alt="image"></p><h2 id="åˆ›å»ºCHATä»»åŠ¡æµ"><a href="#åˆ›å»ºCHATä»»åŠ¡æµ" class="headerlink" title="åˆ›å»ºCHATä»»åŠ¡æµ"></a>åˆ›å»ºCHATä»»åŠ¡æµ</h2><p><img src="https://i.111666.best/image/2IgA1P69jBp6amaeczz6ZT.png" alt="image"></p><p>åˆ›å»ºå¤§æ¨¡å‹ç»„ä»¶ï¼Œå¹¶å¡«å…¥æ¨¡å‹ï¼Œå›½å†…æ¨èä½¿ç”¨ç¡…åŸºæµåŠ¨ã€‚</p><p>åœ¨å¤§æ¨¡å‹ç»„ä»¶ä¸­å¡«å…¥æ¨¡å‹ï¼Œå¡«å…¥ç³»ç»Ÿæç¤ºè¯ï¼Œæ ¸å¿ƒç›®çš„æ˜¯é¢„æœŸè¾“å‡ºåˆç†ä¸”å¯æ§ï¼Œä¸è¦æœ‰å¤šä½™çš„è¾“å‡ºï¼Œæµ‹è¯•çš„ç³»ç»Ÿæç¤ºè¯å¦‚ä¸‹(å¹¶ä¸èƒ½å¾ˆå¥½çš„è·å–åˆ°ç›®æ ‡æ–¹æ³•åï¼Œéœ€è¦åæœŸå†è°ƒè¯•)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment">## è§’è‰²</span><br><span class="hljs-string">ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æ¡Œé¢åŠ©ç†</span><br><span class="hljs-comment">## ä»»åŠ¡</span><br><span class="hljs-string">å½“ç”¨æˆ·å‘é€æŸ¥è¯¢æ¡Œé¢çš„è¯·æ±‚æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®å¯¹è¯ä¿¡æ¯æ£€æŸ¥æ˜¯å¦è¿”å›ä¸€ä¸ªè°ƒç”¨æ–¹æ³•</span><br><span class="hljs-comment">## å½“å‰æ”¯æŒçš„æ–¹æ³•è¡¨</span><br><span class="hljs-string">å‘èµ·æ¡Œé¢è¯·æ±‚</span> <span class="hljs-string">=</span> <span class="hljs-string">destop_get</span><br><span class="hljs-comment">## æ³¨æ„</span><br><span class="hljs-string">ä¸éœ€è¦</span> <span class="hljs-string">ç›´æ¥å›ç­”ç”¨æˆ·è¯·æ±‚ï¼Œåªéœ€è¦è¿”å›ä¸€ä¸ªå…·ä½“çš„æ‰§è¡Œæ–¹æ³•</span><br></code></pre></td></tr></table></figure><p>åœ¨åç»­æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶ä½œä¸ºèŠ‚ç‚¹ï¼Œ æ¥æ”¶å¤§æ¨¡å‹çš„è¿”å›ä½œä¸ºè¾“å…¥çš„å‚æ•°ï¼Œè¿›è¡Œåç»­æ‰§è¡Œ</p><p><img src="https://i.111666.best/image/TUxQf8y6eXGsVkuHSLivNL.png" alt="image"></p><p>ä¸€ä¸ªåŸºç¡€çš„å·¥ä½œé“¾æ¡  å¯åŠ¨å¤§æ¨¡å‹â†’å‘èµ·è¯·æ±‚â†’ æ ¹æ®è¯·æ±‚ç»™å‡ºéœ€è¦æ‰§è¡Œçš„æ–¹æ³•â†’ä¼ é€’ç»™æ’ä»¶æ‰§è¡Œæ–¹æ³•â†’è¿”å›æ‰§è¡Œç»“æœ</p><p>å¤§æ¨¡å‹æ­£ç¡®è¯†åˆ«æ–¹æ³•åï¼Œæ’ä»¶è§£ææ–¹æ³•ï¼Œæ‰§è¡Œå¯¹åº”æ–¹æ³•ã€‚å‘æœ¬åœ°å¯åŠ¨çš„æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å¾—åˆ°å“åº”è¿”å›ç»“æœåˆ°å¯¹è¯æ¡†</p><p><img src="https://i.111666.best/image/hdRpQxHTCHkU6fLsuc3BTm.png" alt="image"></p>]]></content>
    
    
    
    <tags>
      
      <tag>ç¯å¢ƒæ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dockerå®¹å™¨é•œåƒæº</title>
    <link href="/2025/03/21/Docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%BA%90/"/>
    <url>/2025/03/21/Docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<h2 id="å…³äºDocker-å®¹å™¨é•œåƒæ‹‰å–çš„é—®é¢˜"><a href="#å…³äºDocker-å®¹å™¨é•œåƒæ‹‰å–çš„é—®é¢˜" class="headerlink" title="å…³äºDocker å®¹å™¨é•œåƒæ‹‰å–çš„é—®é¢˜"></a>å…³äºDocker å®¹å™¨é•œåƒæ‹‰å–çš„é—®é¢˜</h2><p>ä½¿ç”¨docker pull æˆ–è€… docker compose up -d æ‹‰å–é•œåƒæ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ã€‚</p><p>Error response from daemon: Get â€œ<a href="https://registry-1.docker.io/v2/">https://registry-1.docker.io/v2/</a>â€œ: net&#x2F;http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</p><p>åŸå› æ˜¯é•œåƒæºå¤±æ•ˆæˆ–è€…é€Ÿç‡ä¸å¤Ÿå¯¼è‡´è¶…æ—¶</p><p>ç»å¤§éƒ¨åˆ†çš„æ–‡ç« éƒ½ä¸ç”¨çœ‹ï¼Œå› ä¸ºå¤±æ•ˆå¾ˆå¿«</p><p>å¯ä»¥åœ¨Githubä¸Šå…³æ³¨è¿™ä¸ªé¡¹ç›®éšæ—¶æ›´æ–°æº</p><p><a href="https://github.com/dongyubin/DockerHub">https://github.com/dongyubin/DockerHub</a></p><p>ç„¶åä¿®æ”¹æœ¬åœ°daemon.json é…ç½®</p><p>cat &#x2F;etc&#x2F;docker&#x2F;daemon.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;registry-mirrors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>   <span class="hljs-string">&quot;https://docker.mybacc.com&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-string">&quot;https://docker.1ms.run&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-string">&quot;https://dytt.online&quot;</span><br> <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>é‡å¯daemonå’Œdocker æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl daemon-reload<br>systemctl restart docker <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>ç¯å¢ƒæ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºHEXOçš„åšå®¢æ­å»º</title>
    <link href="/2025/03/21/%E5%9F%BA%E4%BA%8EHEXO%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <url>/2025/03/21/%E5%9F%BA%E4%BA%8EHEXO%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºäºHEXO-FLUID-æ ·å¼çš„åšå®¢æ­å»º"><a href="#åŸºäºHEXO-FLUID-æ ·å¼çš„åšå®¢æ­å»º" class="headerlink" title="åŸºäºHEXO+FLUID æ ·å¼çš„åšå®¢æ­å»º"></a>åŸºäºHEXO+FLUID æ ·å¼çš„åšå®¢æ­å»º</h1><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ol><li><p>7.3ç‰ˆæœ¬çš„Hexo è¦æ±‚node.js çš„ç‰ˆæœ¬åœ¨18.0ä»¥ä¸Šï¼Œcentos7 æ‰€èƒ½æ‹‰å–åˆ°çš„node.js ç‰ˆæœ¬åœ¨11.0 ã€‚è€ƒè™‘åˆ°éœ€è¦å¤„ç†ä¾èµ–æ‰€ä»¥ç›´æ¥æ¢æˆäº†alibaba cloud ç³»ç»Ÿ</p></li><li><p>å®‰è£… npmå’Œhexo-cli å‘½ä»¤è¡Œå·¥å…·</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">dnf install npm<br>npm install hexo-cli -g<br></code></pre></td></tr></table></figure></li><li><p>Github é›†æˆ</p><p> å› ä¸ºåç»­éœ€è¦è®¾ç½®åˆ°github page ï¼Œæ‰€ä»¥å…ˆé…ç½®gitå’Œå¯†é’¥</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>ssh-keygen  <span class="hljs-comment"># ä½¿ç”¨ssh-keygen åˆ›å»ºå¯†é’¥</span><br><span class="hljs-built_in">cat</span> /root/.ssh/id_rsa.pub  <span class="hljs-comment"># ä»ç›®å½•æ–‡ä»¶å¤¹æŸ¥è¯¢å…¬é’¥ï¼Œ </span><br><span class="hljs-comment"># é…ç½®åˆ°github  -&gt; settings -&gt; SSH and GPG keys -&gt; New SSH key</span><br><br>dnf install git   <span class="hljs-comment"># å®‰è£…git</span><br><br>git config --global user.name <span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;é‚®ç®±&quot;</span><br>    <br>ssh -T git@github.com  <span class="hljs-comment"># æµ‹è¯•åˆ°githubçš„è¿æ¥</span><br><br></code></pre></td></tr></table></figure></li></ol><h2 id="HEXO-æ¡†æ¶å®‰è£…"><a href="#HEXO-æ¡†æ¶å®‰è£…" class="headerlink" title="HEXO æ¡†æ¶å®‰è£…"></a>HEXO æ¡†æ¶å®‰è£…</h2><p>åˆå§‹åŒ–hexo ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init myhexo/  <span class="hljs-comment">#  åˆå§‹åŒ–æ–‡ä»¶å¤¹</span><br><span class="hljs-built_in">cd</span> myhexo  <span class="hljs-comment"># ç§»åŠ¨åˆ°åšå®¢ç›®å½•</span><br>npm install hexo-deployer-git --save  <span class="hljs-comment"># å®‰è£…å¹¶å­˜å‚¨hexoé¡¹ç›®</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹éƒ¨ç½²æ–¹å¼ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span>         <span class="hljs-comment"># ç±»å‹æ˜¯ git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">git@github.com:username/username.github.io.git</span>    <br>  <span class="hljs-comment">#åœ¨githubä¸Šåˆ›å»ºusername.github.ioçš„ä»“åº“,ç¡®è®¤ä»“åº“åæ˜¯å¦ä¸€è‡´ï¼ </span><br>  <span class="hljs-comment">#è¿™é‡Œå¯ä»¥ä½¿ç”¨sshçš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨httpsçš„æ–¹å¼ï¼Œä½†æ˜¯sshæ›´ç¨³å®š</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span> <span class="hljs-comment"># è®¾ç½®åˆ†æ”¯ä¸ºmaster</span><br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹å ä½¿ç”¨ hexo deploy è¿›è¡Œå®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç â€˜</p><p>ç”¨æˆ·åå°±æ˜¯ç™»å½•è´¦æˆ·çš„åç§°</p><p>å¯†ç éœ€è¦é€šè¿‡ settings â†’ Developer Settings â†’ Personal access tokens â†’ Generate new token åˆ›å»ºtoken  ä½œä¸ºå¯†ç  </p><p>ç­‰å¾…å‡ åˆ†é’Ÿå¯ä»¥é€šè¿‡è®¿é—® <a href="https://username.github.io/">https://username.github.io</a> æŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ</p><h2 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h2><p>hexo æ”¯æŒå¤šç§æ ·å¼é£æ ¼çš„æ’ä»¶</p><p>ä»¥å®‰è£…fluidä¸ºä¾‹ ï¼Œ å®‰è£…æ’ä»¶ ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">npm</span> <span class="hljs-string">install</span> <span class="hljs-string">--save</span> <span class="hljs-string">hexo-theme-fluid</span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å¯ä»¥å°† ä¸‹è½½å¯¹åº”ä¸»é¢˜æ–‡ä»¶ æ”¾åˆ°theme æ–‡ä»¶å¤¹ï¼Œåœ¨_config.ymlé…ç½®theme ä¸ºfluid</p><p>æˆ–è€…ç›´æ¥åœ¨æ ¹ç›®å½•åˆ›å»º _config.fluid.yml  æ¥è¿›è¡Œé…ç½®ã€‚ _config.fluid.yml çš„é…ç½®ä¼˜å…ˆçº§é«˜äº _config.yml  ã€‚ ä¸€äº›åŸºæœ¬é…ç½® ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">title:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#æ ‡ç­¾é¡µä¸»é¢˜</span><br><span class="hljs-attr">language:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#è¯­è¨€</span><br><span class="hljs-attr">timezone:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#æ—¶åŒº</span><br><span class="hljs-attr">theme:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#ä¸»é¢˜</span><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page about  <span class="hljs-comment"># å…³äºé¡µéœ€è¦è‡ªè¡Œåˆ›å»º</span><br></code></pre></td></tr></table></figure><p>æ‰©å±•é…ç½®å¯ä»¥å‚è€ƒ ï¼š <a href="https://fluid-dev.github.io/hexo-fluid-docs/">https://fluid-dev.github.io/hexo-fluid-docs/</a></p><p>åœ¨è°ƒè¯•æ—¶ å¯ä»¥é€šè¿‡</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">hexo</span> <span class="hljs-string">g</span> <span class="hljs-string">--debug</span> <span class="hljs-string">æ¥æŸ¥çœ‹å…·ä½“çš„é…ç½®ä¿¡æ¯</span>  <span class="hljs-string">å¦‚å½’æ¡£æ ‡ç­¾é¡µçš„é…ç½®ä¿¡æ¯</span><br><br>  <span class="hljs-attr">&quot;archive&quot;:</span> &#123;<br>    <span class="hljs-attr">&quot;banner_img&quot;:</span> <span class="hljs-string">&quot;/img/default.png&quot;</span>,   <span class="hljs-comment"># æŒ‡å®šèƒŒæ™¯å›¾ç‰‡</span><br>    <span class="hljs-attr">&quot;banner_img_height&quot;:</span> <span class="hljs-number">60</span>,  <span class="hljs-comment"># å›¾ç‰‡å å…¨å±çš„æ¯”ä¾‹</span><br>    <span class="hljs-attr">&quot;banner_mask_alpha&quot;:</span> <span class="hljs-number">0.3</span>   <span class="hljs-comment"># ä¸é€æ˜åº¦</span><br>  &#125;<span class="hljs-string">,</span><br><br></code></pre></td></tr></table></figure><p>æ¯æ¬¡ä¿®æ”¹åéœ€è¦ä½¿ç”¨hexo clean å†è¿›è¡Œ ç”Ÿæˆå’Œéƒ¨ç½²ã€‚</p><p>ç„¶åå°±å¯ä»¥å¼€å§‹ åˆ›å»ºæ–‡ç« äº†,åˆ›å»ºåä¼šæç¤ºä½ mdæ–‡ä»¶çš„åœ°å€ï¼Œå°±å¯ä»¥è¿›è¡Œç¼–è¾‘äº†ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">hexo</span> <span class="hljs-string">new</span> <span class="hljs-string">&quot;hello world&quot;</span><br></code></pre></td></tr></table></figure><p>ç›¸å…³å†…å®¹ ï¼š <a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>ç¯å¢ƒæ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
